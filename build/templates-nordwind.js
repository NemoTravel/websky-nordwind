!function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/es-meal/es-meal.html",'<div class="item__i mobileHide"><div class="top"><div class="top__i"><table><tbody><tr><td><div class="text"><div class="iconBox" ng-click="vm.switchService()"><i class="icon_meal"></i></div><div class="name"><h2>{{ \'web.extraServices.meal.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.meal"><span class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.serviceDesc\' | aliasStatic}}</span></span></span></a></h2><p>{{ \'web.extraServices.meal.desc\' | aliasStatic}}</p></div></div></td><td><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3></div></div></td><td><a href="" ng-click="vm.switchService()" ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.meal.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.deselect\' | aliasStatic}}</span></a></td></tr></tbody></table></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="foodSelect"><div class="foodSelect__i"><div class="passengersBlock"><div class="passengersBlock_row"><div class="passengersBlock_row-control"><div class="passengersBlock_row-control-outer" ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights"><div class="passengersBlock_row-control-passengers" ng-click="vm.selectFlightPassenger(flightNum, 0)" ng-class="{active:flightNum == vm.selectedFlight}"><i class="passengersBlock_row-control-passengers-icon" aria-hidden="true"></i> <span class="passengersBlock_row-control-passengers-racenumber">{{flight.racenumber}}</span><geo-marker prefix="dep__point" key="es-meal" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><i class="passengersBlock_row-control-passengers-delimiter" aria-hidden="true"></i><geo-marker prefix="arr__point" key="es-meal" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div><div class="passengersBlock_row-control-droporder" ng-show="flightNum == vm.selectedFlight"><div class="passengersBlock_row-control-droporder-passenger" ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]"><div class="passengersBlock_row-control-droporder-passenger-outer" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" ng-class="{active: passengerNum == vm.selectedPassenger}"><i class="passengersBlock_row-control-droporder-passenger-icon" aria-hidden="true"></i> <span class="passengersBlock_row-control-droporder-passenger-name">{{ passenger.lastName }} {{ passenger.firstName }}</span></div><div class="passengersBlock_row-control-droporder-passenger-order" ng-init="selectedPassengerFlightMeal = vm.getSelectedPassengerFlightMeal(passengerNum, flightNum)"><div class="passengersBlock_row-control-droporder-passenger-order-outer" ng-show="selectedPassengerFlightMeal"><span>{{selectedPassengerFlightMeal.title}}</span> <span ng-bind-html="{ value: selectedPassengerFlightMeal.totalPrice, currency: selectedPassengerFlightMeal.currency } | price"></span> <i class="passengersBlock_row-control-droporder-passenger-order-remove" ng-click="vm.removePassengerFlightMeal(passengerNum, flightNum)" aria-hidden="true"></i></div></div></div></div></div></div><div class="passengersBlock_row-menu"><div ng-if="vm.service.subgroups.length > 1" class="passengersBlock_row-menu-foodSorting"><ul><li ng-class="{ active: vm.mealMenuSubgroup === false }"><a href="" ng-click="vm.mealMenuSubgroup = false">{{ \'web.meal.subgroup.\' | aliasWithPrefix:\'all\' }}</a></li><li ng-repeat="(subgroupNum, subgroupCode) in vm.service.subgroups" ng-class="{ active: vm.mealMenuSubgroup === subgroupNum }"><a href="" ng-click="vm.mealMenuSubgroup = subgroupNum">{{ \'web.meal.subgroup.\' | aliasWithPrefix:subgroupCode }}</a></li></ul></div><div class="list customScroll_height customScroll_js" custom-scroll=""><div class="list__i isotopeGrid"><wrap ng-repeat="(subgroupNum, subgroup) in vm.mealMenu"><div ng-repeat="mealItem in subgroup" ng-if="vm.mealMenuSubgroup === subgroupNum || vm.mealMenuSubgroup === false" ng-class="{ active: mealItem.active, control_disabled: vm.locked }" ng-click="vm.setPassengerFlightMeal(subgroupNum, mealItem)" class="item"><div class="food_wrap"><div class="img"><img ng-src="{{vm.mealImagesPath}}/{{ mealItem.serviceType }}-{{ mealItem.rfisc }}.jpg" alt=""></div><div class="food_info"><div class="name"><p>{{ mealItem.title }}</p><p class="price" ng-bind-html="{ value: mealItem.price, currency: mealItem.currency } | price"></p></div><div class="description"><a ng-if="vm.hasAlias(\'web.extraServices.meal.ingredientsDescriptionContent.\' + mealItem.serviceType + \'.\' + mealItem.rfisc)" href="" fancybox="popupAlias" class="link link--ingredientsDescription" data-popup-alias="web.extraServices.meal.ingredientsDescriptionContent.{{mealItem.serviceType}}.{{mealItem.rfisc}}">{{ \'web.extraServices.meal.ingredientsDescriptionLabel\' | aliasStatic }}</a><p ng-bind-html="mealItem.description"></p></div><button class="selectItemButton">{{ \'web.extraServices.meal.selectItemButton\' | aliasStatic}}</button></div></div></div></wrap></div></div></div></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.meal.cancel\' | aliasStatic }}</a></div></div></div></div></div></div></div><div class="item__i mobileShow"><div class="top"><div class="top__i"><a href=""><div class="row"><table><tbody><tr><td><i class="icon_meal"></i></td><td><div class="name">{{ \'web.extraServices.meal.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.meal"><i class="icon_info"></i></a></div></td></tr></tbody></table></div></a><div class="row"><a href=""><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3></div></div></a> <a href="" ng-click="vm.switchService()" ng-class="{ active: vm.service.active }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.meal.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.deselect\' | aliasStatic}}</span></a></div></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="foodSelect drop_mobile"><div class="foodSelect__i"><div class="passengersContainer"><div class="passengersTableContainer" ng-class="{ one_passenger: (vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments) == 1) }"><a href="" ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next" ng-class="{ control_disabled: !vm.canScrollRight }"></a><table class="passengersTable passengersTableMobile"><tbody><tr class="headRow"><td class="firstCol"><a href="" ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-if="vm.service.availableBySegments[flightNum]" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><div class="route__dep"><span class="route__dep__city">{{ flight.originport }}</span></div><div class="route__plane"><i class="icon_plane"></i></div><div class="route__arr"><span class="route__arr__city">{{ flight.destinationport }}</span></div></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }" ng-init="selectedPassengerFlightMeal = vm.getSelectedPassengerFlightMeal(passengerNum, flightNum)"><a href="" fancybox="popupMeal" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !selectedPassengerFlightMeal, passengersTable__link_select: (!selectedPassengerFlightMeal && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!selectedPassengerFlightMeal && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!selectedPassengerFlightMeal && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="selectedPassengerFlightMeal">{{ selectedPassengerFlightMeal.title }}</wrap></a> <span ng-if="selectedPassengerFlightMeal" class="passengersTable__priceSeat" ng-bind-html="{ value: selectedPassengerFlightMeal.totalPrice, currency: selectedPassengerFlightMeal.currency } | price"></span> <a ng-if="selectedPassengerFlightMeal" href="" ng-click="vm.removePassengerFlightMeal(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.meal.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a></td></tr></tbody></table></div></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.meal.cancel\' | aliasStatic}}</a></div></div></div></div></div><popup-meal menu="vm.mealMenu" passenger="vm.orderInfo.passengers[vm.selectedPassenger]" flight="vm.orderInfo.plainFlights[vm.selectedFlight]" handler="vm.setPassengerFlightMeal" path="vm.mealImagesPath" subgroups="vm.service.subgroups"></popup-meal></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/es-seat/es-seat.html",'<div class="item__i mobileHide"><div class="top"><div class="top__i"><table><tbody><tr><td><div class="text"><div class="iconBox" ng-click="vm.switchService()"><i class="icon_seat-reservation"></i></div><div class="name"><h2>{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><span class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.serviceDesc\' | aliasStatic}}</span></span></span></a></h2><p>{{ \'web.extraServices.seat.desc\' | aliasStatic}}</p></div></div></td><td><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></td><td><a href="" ng-click="vm.switchService()" ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></td></tr></tbody></table></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect"><div class="seatSelect__i"><div class="passengersBlock"><div class="passengersBlock_row"><div class="passengersBlock_row-control"><div class="passengersBlock_row-control-outer" ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights"><div class="passengersBlock_row-control-passengers" ng-click="vm.selectFlightPassenger(flightNum, 0)" ng-class="{active:flightNum == vm.selectedFlight}"><i class="passengersBlock_row-control-passengers-icon" aria-hidden="true"></i> <span class="passengersBlock_row-control-passengers-racenumber">{{flight.racenumber}}</span><geo-marker prefix="dep__point" key="es-meal" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><i class="passengersBlock_row-control-passengers-delimiter" aria-hidden="true"></i><geo-marker prefix="arr__point" key="es-meal" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div><div class="passengersBlock_row-control-droporder" ng-show="flightNum == vm.selectedFlight"><div class="passengersBlock_row-control-droporder-passenger" ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]"><div class="passengersBlock_row-control-droporder-passenger-outer" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" ng-class="{active: passengerNum == vm.selectedPassenger}"><i class="passengersBlock_row-control-droporder-passenger-icon" aria-hidden="true"></i> <span class="passengersBlock_row-control-droporder-passenger-name">{{ passenger.lastName }} {{ passenger.firstName }}</span></div><div class="passengersBlock_row-control-droporder-passenger-order"><div class="passengersBlock_row-control-droporder-passenger-order-outer" ng-show="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]"><span><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.service.selectedSeatsByPassengerSegments.title\' | aliasStatic}}{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></span> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <i class="passengersBlock_row-control-droporder-passenger-order-remove" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" aria-hidden="true"></i></div></div></div></div></div></div><div class="passengersBlock_row-menu passengersBlock_row-menu-seat"><div class="col"><div class="info"><div class="info__i"><p class="sun">{{ vm.sunInfoByFlights[vm.selectedFlight] }}</p><div ng-if="!vm.loadingSeatMap && vm.seatMap" class="seatInfo"><div ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights"><div class="passengersBlock_legend-raceinfo" ng-show="flightNum == vm.selectedFlight"><span>{{ \'web.passengersBlock.legend.racetitle\' | aliasStatic}}{{flight.racenumber}}</span> <span><a href="https://nordwindairlines.ru/ru/fleet" target="_blank">{{flight.airplaneName}}</a></span> <span>{{ \'web.passengersBlock.legend.classtitle\' | aliasStatic}} <span ng-if="flight.flightClass == \'Э\'">{{ \'web.passengersBlock.legend.classeconom\' | aliasStatic}}</span> <span ng-if="flight.flightClass == \'Б\'">{{ \'web.passengersBlock.legend.classbussines\' | aliasStatic}}</span></span></div></div><ul><li class="free"><span></span> {{ \'web.extraServices.seat.free\' | aliasStatic}}</li><li class="selected"><span></span> {{ \'web.extraServices.seat.selected\' | aliasStatic}}</li><li class="disabled"><span></span> {{ \'web.extraServices.seat.disabled\' | aliasStatic}}</li><li ng-repeat="rfiscsPriceItem in vm.seatMap.rfiscsPricesList track by $index" class="rfiscs-seat-label"><span class="seat-rfisc-{{ rfiscsPriceItem.code }}"></span> <span class="rfiscs-seat-label-cost" ng-bind-html="{ value: rfiscsPriceItem.cost, currency: rfiscsPriceItem.currency } | price"></span></li><wrap ng-if="vm.hasAlias(\'web.extraServices.seat.customLabels\')" ng-bind-html="\'web.extraServices.seat.customLabels\' | aliasStatic"></wrap></ul></div></div></div></div><div ng-if="vm.loadingSeatMap" class="seat-map-loader" ng-bind-html="\'web.extraServices.seat.loader\' | aliasStatic"></div><div ng-if="vm.seatMapError" class="seat-map-error">{{ vm.seatMapError | aliasDynamic }}</div><div ng-if="!vm.loadingSeatMap && vm.seatMap" id="seatMapCont" class="col mobileHide customScroll_height customScroll_js" custom-scroll=""><seat-map map="vm.seatMap" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" set="vm.setPassengerFlightSeat"></seat-map></div></div></div></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><div class="item__i mobileShow"><div class="top"><div class="top__i"><a href=""><div class="row"><table><tbody><tr><td><i class="icon_seat"></i></td><td><div class="name">{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><i class="icon_info"></i></a></div></td></tr></tbody></table></div></a><div class="row"><a href=""><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></a> <a href="" ng-click="vm.switchService()" ng-class="{ active: vm.service.active }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></div></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect drop_mobile"><div class="seatSelect__i"><div class="passengersContainer"><div class="passengersTableContainer" ng-class="{ one_passenger: (vm.orderInfo.passengers.length == 1) }"><a href="" ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next" ng-class="{ control_disabled: !vm.canScrollRight }"></a><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"><a href="" ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><div class="route__dep"><span class="route__dep__city">{{ flight.originport }}</span></div><div class="route__plane"><i class="icon_plane"></i></div><div class="route__arr"><span class="route__arr__city">{{ flight.destinationport }}</span></div></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><a href="" fancybox="popupSeat" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></td></tr></tbody></table></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><popup-seat map="vm.seatMap" sun="vm.sunInfoByFlights[vm.selectedFlight]" order="vm.orderInfo" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" select-handler="vm.setPassengerFlightSeat" remove-handler="vm.removePassengerFlightSeat" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" items="vm.service.itemsByPassengerSegments" available-passengers-count="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments)" subgroups="vm.service.subgroups"></popup-seat></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/search-mono-brand-cartesian-variants/search-mono-brand-cartesian-variants.html",'<div ng-repeat="(segNum, segment) in vm.searchParams.segments" class="chooseFlight"><div class="chooseFlight__i"><h2 class="flightWay"><span ng-show="vm.searchParams.segments.length > 1">{{segNum + 1}}.</span> {{ \'web.searchResult.segmentLabel\' | aliasStatic}}<span ng-if="vm.searchParams.segments.length > 1">{{ " " }}{{ \'web.searchResult.segmentLabel.\' | aliasWithPrefix:segNum }}</span>: <a href="" ng-click="vm.scrollToSegment(segNum)" name="segment_{{ segNum }}"><span><geo-marker-wrapper prefix="flightWay__point_origin" key="search-mono-brand-cartesian-variants" cityinfo="segment.origin"></geo-marker-wrapper></span> <span><geo-marker-wrapper prefix="flightWay__point_destination" key="search-mono-brand-cartesian-variants" cityinfo="segment.destination"></geo-marker-wrapper></span></a></h2><div ng-if="vm.searchResultPeriod.segmentsCalendar" class="chooseDate mobileHide"><div class="chooseDate__i"><a ng-click="vm.resetDate(segNum, false, -7)" class="control control_prev" ng-class="{ control_disabled:!vm.checkResetDate(segNum, false, -7) }" href=""></a><div class="tableWrap"><table><tbody><tr><td ng-repeat="cell in vm.searchResultPeriod.segmentsCalendar[segNum]" ng-class="{ active:(cell.date == segment.date) }" class="weekday_{{ cell.date | formatDate: \'E\'}}"><a href="" ng-click="vm.resetDate(segNum, cell.date)" ng-class="{ control_disabled:!vm.checkResetDate(segNum, cell.date), \'loading-start\': vm.loadingPeriodVariants }">{{ cell.date | formatDate: \'D MMM, dd\'}} <strong ng-bind-html="{ value: cell.summ, currency: cell.currency } | price"></strong></a></td></tr></tbody></table></div><a ng-click="vm.resetDate(segNum, false, 7)" class="control control_next" ng-class="{ control_disabled:!vm.checkResetDate(segNum, false, 7) }" href=""></a></div></div><div ng-if="vm.searchResultPeriod.segmentsCalendar" class="chooseDate mobileShow"><div class="chooseDate__i"><div class="item"><a ng-click="vm.resetDate(segNum, false, -7)" ng-class="{ control_disabled:!vm.checkResetDate(segNum, false, -7) }" href="" class="prev"><span>{{ \'web.searchResult.minus3days\' | aliasStatic}}</span></a></div><div ng-repeat="cell in vm.searchResultPeriod.segmentsCalendar[segNum]" ng-class="{ active:(cell.date == segment.date) }" class="item weekday_{{ cell.date | formatDate: \'E\'}}"><a href="" ng-click="vm.resetDate(segNum, cell.date)" ng-class="{ control_disabled:!vm.checkResetDate(segNum, cell.date), \'loading-start\': vm.loadingPeriodVariants }">{{ cell.date | formatDate: \'D MMM, dd\'}} <strong ng-bind-html="{ value: cell.summ, currency: cell.currency } | price"></strong></a></div><div class="item"><a ng-click="vm.resetDate(segNum, false, 7)" ng-class="{ control_disabled:!vm.checkResetDate(segNum, false, 7) }" href="" class="next"><span>{{ \'web.searchResult.plus3days\' | aliasStatic}}</span></a></div></div></div><div ng-if="vm.searchResult" class="flightTableWrap mobileHide"><div class="flightTable"><variants-sort-switch selected="vm.searchResult.segmentSort[segNum]"></variants-sort-switch><table><tr class="headrow"><td class="sortingCell firstCol"><a class="js-show__new-rates__list active" href="">Свернуть</a></td><td ng-repeat="(brandNum, brand) in vm.searchResult.brandsList" class="{{ brand.cssClass }}" ng-class="{ control_disabled: (segNum == 1 && !vm.searchResult.brandsCompatibleState[brandNum]) }"><div class="columnTitle"><div ng-if="brand.theBest" class="best">{{ \'web.searchResult.brandTheBest\' | aliasStatic}}</div><span class="name"><a href="" ng-click="vm.showCompare(brand.code)" class="popup_js">{{ brand.name }}</a></span><ul class="options"><li ng-repeat="prop in brand.importantProps"><span ng-if="prop.name" class="infoBoxWrap"><i class="icon_{{ prop.code }}"></i> <span class="infoBox"><span class="infoBox__i">{{ prop.name }}</span></span></span> <i ng-if="!prop.name" class="icon_{{ prop.code }}"></i></li></ul></div><div class="new-rates__list"><div class="new-rates__item" ng-repeat="item in brand.props"><span class="new-rates__icon new-rates__icon_free" ng-if="item.available == \'yes\'"></span> <span class="new-rates__icon new-rates__icon_paid" ng-if="item.available == \'paid\'"></span> <span class="new-rates__icon new-rates__icon_no" ng-if="item.available == \'no\'"></span><div class="new-rates__text"><span class="new-rates__name">{{ item.name }}</span></div></div></div></td></tr><tr ng-repeat="(rowNum, row) in vm.searchResult.segmentRows[segNum]" class="contentRow"><td class="firstCol"><table class="timeTable"><tr><td class="racenumber"><span ng-repeat="flight in row.flights">{{ flight.company.code_en }}-{{ flight.racenumber }}</span></td><td></td></tr><tr><td><p class="time">{{ row.flightsInfo.departuretime }} <sup ng-if="row.flightsInfo.departuredayshift">{{ row.flightsInfo.departuredayshift | dayshift }} <span class="infoBox"><span ng-if="row.flightsInfo.departuredayshift == 1" class="infoBox__i">{{ \'web.searchResult.departureTomorrow\' | aliasStatic}}</span> <span ng-if="row.flightsInfo.departuredayshift > 1" class="infoBox__i">{{ \'web.searchResult.departuredayshift\' | aliasStatic}} {{row.flightsInfo.departuredayshift}} {{ \'web.searchResult.dayshiftDays\' | aliasStatic}}</span></span></sup> – {{ row.flightsInfo.arrivaltime }} <sup ng-if="row.flightsInfo.arrivaldayshift">{{ row.flightsInfo.arrivaldayshift | dayshift }} <span class="infoBox"><span ng-if="row.flightsInfo.arrivaldayshift == 1" class="infoBox__i">{{ \'web.searchResult.arrivalTomorrow\' | aliasStatic}}</span> <span ng-if="row.flightsInfo.arrivaldayshift > 1" class="infoBox__i">{{ \'web.searchResult.arrivaldayshift\' | aliasStatic}} {{row.flightsInfo.arrivaldayshift}} {{ \'web.searchResult.dayshiftDays\' | aliasStatic}}</span></span></sup></p></td><td><p class="duration">{{ row.flightsInfo.flighttime | timeAsWords }}</p></td></tr><tr><td><a href="" fancybox="popupFlightDetail" ng-click="vm.flightDetail = row" class="popup_js">{{ row.flightsInfo.connectionsMessage }}<span ng-if="row.flightsInfo.connections && row.flightsInfo.connections.length == 1">: {{ row.flightsInfo.connections[0].time | timeAsWords }}</span></a> <span ng-if="row.flightsInfo.landings.length" class="landing">{{ vm.suffixCount(row.flightsInfo.landings.length, ( \'web.searchResult.landings\' | aliasStatic)) }}</span></td><td></td></tr></table></td><td ng-repeat="(priceNum, priceItem) in row.prices track by $index" ng-class="{ active: priceItem.selected }"><wrap ng-if="priceItem"><a href="" ng-class="{ control_disabled: (segNum == 1 && !vm.searchResult.brandsCompatibleState[priceNum]) || priceItem.comparedDateTimeDisable }" ng-click="vm.selectVariant(segNum, rowNum, priceNum)"><wrap ng-bind-html="{ value: priceItem.price, currency: priceItem.currency } | price"></wrap></a> <span ng-if="segNum == 1 && vm.searchResult.brandsCompatibleState[priceNum] && priceItem.comparedDateTimeDisable" class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.searchResult.flightTimesNotCompatible\' | aliasStatic}}</span></span></span> <span ng-if="segNum == 1 && !vm.searchResult.brandsCompatibleState[priceNum]" class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.searchResult.brandsNotCompatible\' | aliasStatic}}</span></span></span></wrap><i ng-if="!priceItem" class="icon_minus"></i></td></tr></table></div><div class="tableInfo"><table><tr><td>{{ \'web.searchResult.localTimeMessage\' | aliasStatic}}</td><td>{{ \'web.searchResult.totalPriceMessage\' | aliasStatic}}</td></tr></table></div></div><div ng-if="vm.searchResult" class="flightTableWrap mobileShow"><div class="chooseFlight__list"><div ng-repeat="(rowNum, row) in vm.searchResult.segmentRows[segNum]" class="chooseFlight__list__item"><label class="chooseFlight__list__item__label"><input type="radio" name="flight_{{segNum}}" ng-model="vm.selectedFlightRow[segNum]" ng-change="vm.mobileFlightRowChangeHandler(segNum)" value="{{ rowNum }}"> <span></span><div class="chooseFlight__list__item__content"><div class="chooseFlight__list__item__content__info"><div class="chooseFlight__list__item__content__info__time"><span class="chooseFlight__list__item__content__info__time_wrap">{{ row.flightsInfo.departuretime }} <sup ng-if="row.flightsInfo.departuredayshift">{{ row.flightsInfo.departuredayshift | dayshift }} <span class="infoBox"><span ng-if="row.flightsInfo.departuredayshift == 1" class="infoBox__i">{{ \'web.searchResult.departureTomorrow\' | aliasStatic}}</span> <span ng-if="row.flightsInfo.departuredayshift > 1" class="infoBox__i">{{ \'web.searchResult.departuredayshift\' | aliasStatic}} {{row.flightsInfo.departuredayshift}} {{ \'web.searchResult.dayshiftDays\' | aliasStatic}}</span></span></sup> – {{ row.flightsInfo.arrivaltime }} <sup ng-if="row.flightsInfo.arrivaldayshift">{{ row.flightsInfo.arrivaldayshift | dayshift }} <span class="infoBox"><span ng-if="row.flightsInfo.arrivaldayshift == 1" class="infoBox__i">{{ \'web.searchResult.arrivalTomorrow\' | aliasStatic}}</span> <span ng-if="row.flightsInfo.arrivaldayshift > 1" class="infoBox__i">{{ \'web.searchResult.arrivaldayshift\' | aliasStatic}} {{row.flightsInfo.arrivaldayshift}} {{ \'web.searchResult.dayshiftDays\' | aliasStatic}}</span></span></sup></span></div><div class="chooseFlight__list__item__content__info__price"><span>{{ \'web.searchResult.minFlightPriceFrom\' | aliasStatic}}</span> <span ng-bind-html="{ value: row.minPrice, currency: row.minPriceCurrency } | price"></span></div></div><div class="chooseFlight__list__item__content__bottom"><div class="chooseFlight__list__item__content__bottom__link"><a href="" fancybox="popupFlightDetail" ng-click="vm.flightDetail = row" class="popup_js">{{ row.flightsInfo.connectionsMessage }}<span ng-if="row.flightsInfo.connections && row.flightsInfo.connections.length == 1">: {{ row.flightsInfo.connections[0].time | timeAsWords }}</span></a> <span ng-if="row.flightsInfo.landings.length" class="landing">{{ vm.suffixCount(row.flightsInfo.landings.length, ( \'web.searchResult.landings\' | aliasStatic)) }}</span></div><div class="chooseFlight__list__item__content__bottom__flightInfo"><span ng-repeat="flight in row.flights" class="number">{{ flight.company.code || flight.company.code_en }}-{{ flight.racenumber }}</span>, <span class="timeEnRoute">{{ \'web.choosenFlight.flighttime\' | aliasStatic}} {{ row.flightsInfo.flighttime | timeAsWords }}</span></div></div></div></label></div></div><div class="title"><div class="title__i"><p>{{ \'web.searchResult.brandSelect\' | aliasStatic}}</p><a href="" ng-click="vm.showCompare(brand.code)" class="overview popup_js" name="brandsOverview_{{segNum}}">{{ \'web.searchResult.brandCompare\' | aliasStatic}} <i class="icon_info"></i></a></div></div><div class="chooseFlight__table flightTable"><div class="chooseFlight__table__item" ng-if="vm.searchResult.segmentRows[segNum][vm.selectedFlightRow[segNum]].prices" ng-repeat="(priceNum, priceItem) in vm.searchResult.segmentRows[segNum][vm.selectedFlightRow[segNum]].prices track by $index"><div class="chooseFlight__table__item__columnTitle {{ vm.searchResult.brandsList[priceNum].cssClass }}"><div ng-if="vm.searchResult.brandsList[priceNum].theBest" class="best">{{ \'web.searchResult.brandTheBest\' | aliasStatic}}</div><span class="name"><a href="" ng-click="vm.showCompare(vm.searchResult.brandsList[priceNum].code)" class="popup_js">{{ vm.searchResult.brandsList[priceNum].name }}</a></span><ul class="options"><li ng-repeat="prop in vm.searchResult.brandsList[priceNum].importantProps"><span ng-if="prop.name" class="infoBoxWrap mobile"><i class="icon_{{ prop.code }}"></i> <span class="infoBox"><span class="infoBox__i">{{ prop.name }}</span></span></span> <i ng-if="!prop.name" class="icon_{{ prop.code }}"></i></li></ul></div><div class="chooseFlight__table__item__content" ng-class="{ active: priceItem.selected }"><a ng-if="priceItem" href="" ng-click="vm.selectVariant(segNum, vm.selectedFlightRow[segNum], priceNum)" ng-class="{ control_disabled: (segNum == 1 && !vm.searchResult.brandsCompatibleState[priceNum]) || priceItem.comparedDateTimeDisable }" class="chooseFlight__table__item__content__link"><span ng-bind-html="{ value: priceItem.price, currency: priceItem.currency } | price"></span></a> <i ng-if="!priceItem" class="icon_minus"></i></div></div></div></div></div></div><popup-flight-detail detail="vm.flightDetail"></popup-flight-detail>');
}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("screens/booking/booking.html",'<app-loader ng-if="vm.loading || vm.doBookingAndRegisterOrderLoading || vm.modifyServicesLoading || vm.orderServicesLoading"></app-loader><section class="out" ng-if="!vm.loading"><app-header></app-header><div class="searchSteps"><div class="wrap"><div class="searchSteps__i"><ol><li class="prev"><a href="{{ \'site.mainPageUrl\' | param }}">{{ \'web.steps.search\' | aliasStatic}}</a></li><li class="prev"><a href="#{{$root.ROUTES.SEARCH}}">{{ \'web.steps.selectVariant\' | aliasStatic}}</a></li><li class="prev"><a href="#{{$root.ROUTES.PASSENGERS}}">{{ (vm.orderInfo.passengers.length == 1) ? ( \'web.steps.passenger\' | aliasStatic) : ( \'web.steps.passengers\' | aliasStatic) }}</a></li><li class="active">{{ \'web.steps.extraServices\' | aliasStatic}}</li><li>{{ \'web.steps.payment\' | aliasStatic}}</li><li>{{ \'web.steps.order\' | aliasStatic}}</li></ol></div></div></div><div class="content content-booking"><div class="wrap wrap_pt32"><div class="content__i"><div class="checkoutServices"><div class="checkoutServices__i"><div class="checkoutServices__i-container"><h2 class="title">{{ \'web.extraServices.header\' | aliasStatic}}</h2><span class="ancor-scroll-js">{{ \'web.extraServices.ancorScrollText\' | aliasStatic}}</span></div><div ng-if="!vm.es" class="emptyServices">{{ \'web.extraServices.emptyServices\' | aliasStatic}}<br><br><br></div><div ng-if="vm.modifyServicesError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-bind-html="vm.modifyServicesError | aliasDynamic"></p></div></div><extra-services-list ng-if="vm.es" es="vm.es" list="vm.esList" locked="vm.modifyServicesLoading || vm.orderServicesLoading"></extra-services-list></div></div><div class="choosenFlight choosenFlight_checkout ancor-block-js"><div class="choosenFlight__i"><h2 class="title">{{ \'web.choosenFlight.header\' | aliasStatic}}</h2><div class="chooseResult"><div class="chooseResult__i"><div class="col"><div class="col__item"><div ng-repeat="(segNum, segment) in vm.orderInfo.flights" class="flight"><div class="route_item_container" ng-repeat="(flightNum, flight) in segment.flights"><div class="route_item"><div class="route__i route_container"><div class="route_table"><div class="dep"><div class="dep__date" ng-class="{ nextDay: flight.departuredayshift, attention: flight.departuredayshift}">{{ flight.departuredate | formatDate: \'D MMM, dd\' }}</div><div class="dep__time">{{ flight.departuretime }}</div><geo-marker prefix="dep__point" key="booking" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker></div><div class="info"><i class="icon_plane"></i><div class="info__number">{{ flight.company.code_en }}-{{ flight.racenumber }}</div><div class="info__timeEnRoute">{{ flight.flighttime | timeAsWords }}</div></div><div class="arr"><div class="arr__date" ng-class="{ nextDay: flight.arrivaldayshift, attention: flight.arrivaldayshift}">{{ flight.arrivaldate | formatDate: \'D MMM, dd\' }}</div><div class="arr__time">{{ flight.arrivaltime }}</div><geo-marker prefix="arr__point" key="booking" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></div></div><div class="route__i additional"><span class="additional__company">{{ \'web.choosenFlight.company\' | aliasStatic}} {{ flight.company.name }}</span> <span class="additional__company" ng-if="flight.operatingCompany">{{ \'web.search.results.operatingCompany\' | aliasStatic}} {{ flight.operatingCompany.name }}</span> <span class="additional__plane">{{ flight.airplaneName }}</span></div></div><div ng-if="segment.connections[flightNum]" ng-init="connection=segment.connections[flightNum]" class="transfer"><span class="transfer__text"><strong>{{ \'web.choosenFlight.connection\' | aliasStatic}} {{ connection.time | timeAsWords }}</strong></span> <span ng-if="connection.previousAirport && connection.nextAirport && connection.previousAirport != connection.nextAirport" class="terminalChange">{{ \'web.choosenFlight.airportChange\' | aliasStatic}} (<span class="terminalName">{{ connection.previousAirport }}</span> <span class="terminalName">{{ connection.nextAirport }}</span>)</span> <span ng-if="connection.previousAirport == connection.nextAirport && connection.previousTerminal && connection.nextTerminal && connection.previousTerminal != connection.nextTerminal" class="terminalChange">{{ \'web.choosenFlight.terminalChange\' | aliasStatic}} (<span class="terminalName">{{ connection.previousTerminal }}</span> <span class="terminalName">{{ connection.nextTerminal }}</span>)</span></div><div ng-repeat="landing in flight.landings" class="landing"><span class="landing__text"><strong>{{ \'web.searchScheduleResult.landing\' | aliasStatic}}</strong></span><p class="landing__airport">{{ landing.landingCityName }} ({{ landing.landingTime | timeAsWords }})</p></div></div><div ng-if="segment.flights.length > 1" class="timeEnRoute">{{ \'web.choosenFlight.flighttime\' | aliasStatic}} {{ segment.flightTime | timeAsWords }}</div><div ng-if="segment.flights[0].brand && ( \'search.useMonoBrandCartesian\' | param )" class="tariff"><div class="tariff__include">{{ \'web.choosenFlight.tariffIncludeStart\' | aliasStatic}} {{ segment.flights[0].brandName }} {{ \'web.choosenFlight.tariffIncludeEnd\' | aliasStatic}}</div><div class="tariff__content"><span ng-repeat="prop in segment.flights[0].brandAvailableProps" class="tariff__content__item" ng-bind-html="prop"></span></div></div></div></div></div><div class="col"><div class="col__item"><div class="col__i"><div class="passengers"><div class="item"><div class="item__i dropWrapper"><table><tbody><tr><td><p><strong>{{ vm.orderInfo.descPassCountStr }}</strong></p></td><td><strong ng-bind-html="{ value: vm.orderInfo.prices.totalTicket, currency: vm.orderInfo.prices.currency } | price"></strong></td></tr></tbody></table><div class="drop"><div class="drop__i"><table><tbody><tr><td>{{ \'web.choosenFlight.fare\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.prices.totalFare, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.prices.totalTax && !vm.orderInfo.prices.groupedTaxes" class="tax tax-all"><td>{{ \'web.choosenFlight.tax\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.prices.totalTax, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.prices.totalTax && vm.orderInfo.prices.groupedTaxes" ng-repeat="taxGroup in vm.orderInfo.prices.groupedTaxes" class="tax tax-grouped"><td>{{ \'web.choosenFlight.taxGroup.\' | aliasWithPrefix:taxGroup.code }}</td><td ng-bind-html="{ value: taxGroup.value, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.prices.totalTax && vm.orderInfo.prices.otherTaxes" class="tax tax-other"><td>{{ \'web.choosenFlight.otherTaxes\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.prices.otherTaxes, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServices"><td><strong>{{ \'web.choosenFlight.extraServices\' | aliasStatic}}</strong></td><td><strong ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServices, currency: vm.orderInfo.prices.currency } | price"></strong></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.seat"><td>{{ \'web.choosenFlight.totalSeat\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.seat, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.insurance"><td>{{ \'web.choosenFlight.totalInsurance\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.insurance, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.meal"><td>{{ \'web.choosenFlight.totalMeal\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.meal, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.baggage"><td>{{ \'web.choosenFlight.totalBaggage\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.baggage, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-if="vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.aeroexpress"><td>{{ \'web.choosenFlight.totalAezh\' | aliasStatic}}</td><td ng-bind-html="{ value: vm.orderInfo.pricesNotIssued.totalExtraServiceByGroup.aeroexpress, currency: vm.orderInfo.prices.currency } | price"></td></tr><tr ng-repeat="serviceItem in vm.orderInfo.pricesNotIssued.totalCommonServicesList"><td>{{ \'web.choosenFlight.total\' | aliasWithPrefix:(serviceItem.code | capitalizeFirstLetter) }}</td><td ng-bind-html="{ value: serviceItem.value, currency: vm.orderInfo.prices.currency } | price"></td></tr></tbody></table></div></div></div></div></div><div class="bottom"><div class="total"><table><tbody><tr><td>{{ \'web.choosenFlight.totalPrice\' | aliasStatic}}</td><td><span ng-bind-html="{ value: vm.orderInfo.prices.totalPrice, currency: vm.orderInfo.prices.currency } | price"></span></td></tr></tbody></table></div><div class="bonus" ng-if="vm.orderInfo.ffpSumm"><table><tbody><tr><td><div class="accruedMiles"><i class="icon_milesPay"></i>{{ \'web.choosenFlight.ffpSumm\' | aliasStatic}}</div></td><td ng-bind-html="{ value: vm.orderInfo.ffpSumm, currency: \'miles\' } | price"></td></tr></tbody></table></div><div class="bonus" ng-if="vm.ffpBonus"><table><tbody><tr><td><div class="accruedMiles"><i class="icon_milesPay"></i>{{ \'web.choosenFlight.ffpBonus\' | aliasStatic}}</div></td><td ng-bind-html="{ value: vm.ffpBonus, currency: \'miles\' } | price"></td></tr></tbody></table></div></div></div></div></div></div></div></div></div><div class="payMethods"><div class="payMethods__i"><wrap ng-show="!vm.isFreePricevariant"><h2 class="title">{{ \'web.paymentTypeSelect.header\' | aliasStatic}}</h2><payment-type-select ng-if="vm.priceVariant" price-variant="vm.priceVariant" change-handler="vm.paymentFormChangeHandler" selected-payment-type="vm.selectedPaymentType" selected-payment-form="vm.selectedPaymentForm"></payment-type-select></wrap><div class="iconfirm"><div class="iconfirm__i"><div class="customCheckbox"><label><input type="checkbox" id="iconfirm" ng-model="vm.agree"><span></span></label></div><p><label for="iconfirm"><wrap ng-bind-html="\'web.paymentTypeSelect.agree_1\' | aliasStatic"></wrap>{{ \' \' }} <a href="" fancybox="popupRemark">{{ \'web.paymentTypeSelect.remarkLink\' | aliasStatic}}</a> {{ \' \' }}<wrap ng-bind-html="\'web.paymentTypeSelect.agree_2\' | aliasStatic"></wrap>{{ \' \' }} <a href="{{ vm.orderInfo.conditionsPath }}" target="_blank">{{ \'web.paymentTypeSelect.conditions\' | aliasStatic}}</a> {{ \' \' }}<wrap ng-bind-html="\'web.paymentTypeSelect.agree_3\' | aliasStatic"></wrap></label></p></div></div></div></div><div class="searchResultsControl"><div class="searchResultsControl__i"><a href="#{{$root.ROUTES.PASSENGERS}}" class="btn btn_back">{{ \'web.buttons.back\' | aliasStatic}}</a> <a href="" ng-if="!vm.doBookingAndRegisterOrderLoading" ng-click="vm.submitPayment()" ng-class="{ disabled: (!vm.agree || !vm.selectedPaymentForm || !vm.selectedPaymentType || vm.modifyServicesLoading || vm.orderServicesLoading) }" class="btn btn_next"><span class="mobileHide">{{ vm.isFreePricevariant ? \'web.buttons.confirmRegisterOrder\' : \'web.buttons.gotoPayment\' | aliasStatic}}</span> <span class="mobileShow">{{ \'web.buttons.next\' | aliasStatic}}</span></a></div></div><div ng-if="vm.showNeedSelectPaymentFormMesage" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p>{{ \'web.messages.needSelectPaymentForm\' | aliasStatic}}</p></div></div><div ng-if="vm.bookingError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-if="vm.bookingError === true">{{ \'web.messages.bookingError\' | aliasStatic}}</p><p ng-if="vm.bookingError !== true">{{ vm.bookingError | aliasDynamic }}</p></div></div></div></div></div><div class="content" ng-if="vm.errorMessage"><div class="wrap wrap_pt32"><div class="content__i"><div><div class="popup__i__caption"><div class="message_error">{{ vm.errorMessage | aliasDynamic }}</div></div></div></div></div></div><div class="push"></div></section><app-footer ng-if="!vm.loading"></app-footer><wrap ng-if="!vm.loading"><popup-remark></popup-remark><popup-alias></popup-alias><popup-cancel-conflict-services></popup-cancel-conflict-services><popup-change-currency-error></popup-change-currency-error></wrap>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/selected-variant/selected-variant.html",'<div ng-if="vm.pricingVariant" class="choosenFlight" ng-class="{ control_disabled: vm.loading }"><div class="choosenFlight__i"><h2 class="title">{{ \'web.choosenFlight.header\' | aliasStatic}}</h2><div class="chooseResult"><div class="chooseResult__i"><div class="col"><div class="col__item"><div ng-repeat="(segNum, segment) in vm.selectedVariantsInfo" class="flight"><div class="route_item_container" ng-repeat="(flightNum, flight) in segment.flights"><div class="route_item"><div class="route__i route_container"><div class="route_table"><div class="dep"><div class="dep__date" ng-class="{ nextDay: flight.departuredayshift, attention: flight.departuredayshift}">{{ flight.departuredate | formatDate: \'D MMM, dd\' }}</div><div class="dep__time">{{ flight.departuretime }}</div><geo-marker prefix="dep__point" key="selected-variant" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker></div><div class="info"><i class="icon_plane"></i><div class="info__number">{{ flight.company.code_en }}-{{ flight.racenumber }}</div><div class="info__timeEnRoute">{{ flight.flighttime | timeAsWords }}</div></div><div class="arr"><div class="arr__date" ng-class="{ nextDay: flight.arrivaldayshift, attention: flight.arrivaldayshift}">{{ flight.arrivaldate | formatDate: \'D MMM, dd\' }}</div><div class="arr__time">{{ flight.arrivaltime }}</div><geo-marker prefix="arr__point" key="selected-variant" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></div></div><div class="route__i additional"><span class="additional__company">{{ \'web.choosenFlight.company\' | aliasStatic}} {{ flight.company.name }}</span> <span class="additional__company" ng-if="flight.operatingCompany">{{ \'web.search.results.operatingCompany\' | aliasStatic}} {{ flight.operatingCompany.name }}</span> <span class="additional__plane">{{ flight.airplaneName }}</span></div></div><div ng-if="segment.flightsInfo.connections[flightNum]" ng-init="connection=segment.flightsInfo.connections[flightNum]" class="transfer"><span class="transfer__text"><strong>{{ \'web.choosenFlight.connection\' | aliasStatic}} {{ connection.time | timeAsWords }}</strong></span> <span ng-if="connection.previousAirport && connection.nextAirport && connection.previousAirport != connection.nextAirport" class="terminalChange">{{ \'web.choosenFlight.airportChange\' | aliasStatic}} (<span class="terminalName">{{ connection.previousAirport }}</span> <span class="terminalName">{{ connection.nextAirport }}</span>)</span> <span ng-if="connection.previousAirport == connection.nextAirport && connection.previousTerminal && connection.nextTerminal && connection.previousTerminal != connection.nextTerminal" class="terminalChange">{{ \'web.choosenFlight.terminalChange\' | aliasStatic}} (<span class="terminalName">{{ connection.previousTerminal }}</span> <span class="terminalName">{{ connection.nextTerminal }}</span>)</span></div><div ng-repeat="landing in flight.landings" class="landing"><span class="landing__text"><strong>{{ \'web.searchScheduleResult.landing\' | aliasStatic}}</strong></span><p class="landing__airport">{{ landing.landingCityName }} ({{ landing.landingTime | timeAsWords }})</p></div></div><div ng-if="segment.flights.length > 1" class="timeEnRoute">{{ \'web.choosenFlight.flighttime\' | aliasStatic}} {{ segment.flightsInfo.flighttime | timeAsWords }}</div><div ng-if="segment.brand" class="tariff"><div class="tariff__include"><span>Ваш тариф</span> <span class="tariff__include--bold">{{ segment.brandName }}</span></div><div class="tariff__content" style="display:none"><span ng-repeat="prop in segment.brandAvailableProps" class="tariff__content__item" ng-bind-html="prop"></span></div><div class="tariff__content" ng-if="segment.brandAvailableProps && segment.brandAvailableProps.length > 0"><div class="tariff__content__item" ng-repeat="(propNum, prop) in vm.getBrandsList(segment.brand)"><span class="new-rates__icon new-rates__icon_free" ng-if="prop.available == \'yes\'"></span> <span class="new-rates__icon new-rates__icon_paid" ng-if="prop.available == \'paid\'"></span> <span class="new-rates__icon new-rates__icon_no" ng-if="prop.available == \'no\'"></span><div class="tariff__content__item__text"><span class="tariff__content__item__name" ng-bind-html="prop.name"></span> <span class="tariff__content__item__desc" ng-bind-html="prop.shortDesc"></span></div></div></div></div></div></div></div><div class="col"><div class="col__item"><div class="col__i"><div class="passengers"><div ng-repeat="(pasNum, pasData) in vm.pricingVariant.passengerCategories" class="item"><div class="item__i dropWrapper"><a ng-click="vm.passDropOpened[pasNum] = !vm.passDropOpened[pasNum];" href="" class="showDrop_js" ng-class="{ active: vm.passDropOpened[pasNum] }"><table><tr><td><p>{{ pasData.passengerCountLabel }}</p></td><td ng-bind-html="{ value: pasData.price, currency: vm.pricingVariant.currency } | price"></td></tr></table></a><div class="drop" ng-class="{ active: vm.passDropOpened[pasNum] }"><div class="drop__i"><table><tr><td>{{ \'web.choosenFlight.fare\' | aliasStatic}}</td><td ng-bind-html="{ value: pasData.fare, currency: vm.pricingVariant.currency } | price"></td></tr><tr ng-if="!pasData.groupedTaxes" class="tax tax-all"><td>{{ \'web.choosenFlight.tax\' | aliasStatic}}</td><td ng-bind-html="{ value: pasData.tax, currency: vm.pricingVariant.currency } | price"></td></tr><tr ng-if="pasData.groupedTaxes" ng-repeat="taxGroup in pasData.groupedTaxes" class="tax tax-grouped"><td>{{ \'web.choosenFlight.taxGroup.\' | aliasWithPrefix:taxGroup.code }}</td><td ng-bind-html="{ value: taxGroup.value, currency: vm.pricingVariant.currency } | price"></td></tr><tr ng-if="pasData.otherTaxes" class="tax tax-other"><td>{{ \'web.choosenFlight.otherTaxes\' | aliasStatic}}</td><td ng-bind-html="{ value: pasData.otherTaxes, currency: vm.pricingVariant.currency } | price"></td></tr></table></div></div></div></div></div><div class="bottom"><div class="total"><table><tr><td>{{ \'web.choosenFlight.totalPrice\' | aliasStatic}}</td><td><span ng-bind-html="{ value: vm.pricingVariant.totalPrice, currency: vm.pricingVariant.currency } | price"></span></td></tr></table><p class="right"><a href="" fancybox="popupRemark">{{ \'web.choosenFlight.remarkLink\' | aliasStatic}}</a></p></div><div class="bonus" ng-if="vm.pricingVariant.ffpSumm"><table><tbody><tr><td><div class="accruedMiles"><i class="icon_milesPay"></i>{{ \'web.choosenFlight.ffpSumm\' | aliasStatic}}</div></td><td ng-bind-html="{ value: vm.pricingVariant.ffpSumm, currency: \'miles\' } | price"></td></tr></tbody></table></div><div class="bonus" ng-if="vm.ffpBonus"><table><tbody><tr><td><div class="accruedMiles"><i class="icon_milesPay"></i>{{ \'web.choosenFlight.ffpBonus\' | aliasStatic}}</div></td><td ng-bind-html="{ value: vm.ffpBonus, currency: \'miles\' } | price"></td></tr></tbody></table></div></div></div></div></div></div></div></div></div><popup-remark></popup-remark>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("screens/passengers/passengers.html",'<app-loader ng-if="vm.loading"></app-loader><section class="out" ng-if="!vm.loading"><app-header></app-header><div class="searchSteps"><div class="wrap"><div class="searchSteps__i"><ol><li class="prev"><a href="{{ \'site.mainPageUrl\' | param }}">{{ \'web.steps.search\' | aliasStatic}}</a></li><li class="prev"><a href="#{{$root.ROUTES.SEARCH}}">{{ \'web.steps.selectVariant\' | aliasStatic}}</a></li><li class="active">{{ (vm.passengers.length == 1) ? ( \'web.steps.passenger\' | aliasStatic) : ( \'web.steps.passengers\' | aliasStatic) }}</li><li>{{ \'web.steps.extraServices\' | aliasStatic}}</li><li>{{ \'web.steps.payment\' | aliasStatic}}</li><li>{{ \'web.steps.order\' | aliasStatic}}</li></ol></div></div></div><div ng-if="vm.orderInfo && vm.passengersCheck" class="searchParams searchParams_passengers"><div class="wrap"><div class="searchParams__i"><div class="info"><ul><li><geo-marker prefix="dep__point" key="passengers" city="vm.orderInfo.flights[0].flights[0].origincity" cityname="vm.orderInfo.flights[0].flights[0].origincityName" port="vm.orderInfo.flights[0].flights[0].originport" portname="vm.orderInfo.flights[0].flights[0].originportName"></geo-marker>–<geo-marker prefix="arr__point" key="passengers" city="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationcity" cityname="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationcityName" port="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationport" portname="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationportName"></geo-marker></li><li ng-show="vm.orderInfo.flights.length == 2">{{ \'web.searchForm.roundtrip\' | aliasStatic}}</li><li ng-show="vm.orderInfo.flights.length == 1">{{ \'web.searchForm.oneway\' | aliasStatic}}</li><li>{{ vm.getDescPassCountStr() }}</li></ul></div></div></div></div><div class="content"><div class="wrap wrap_pt32"><div class="content__i"><div class="passengersInfo"><div class="passengersInfo__i"><h2>{{ (vm.passengers.length == 1) ? ( \'web.passengerInfo.header\' | aliasStatic) : ( \'web.passengersInfo.header\' | aliasStatic) }}</h2><p ng-if="vm.passengersCheck.isLatinNamesOnly && !(\'site.foreignSite\' | param)" class="intAttention">{{ \'web.messages.passNamesLabel\' | aliasStatic}} <span ng-bind-html="\'web.messages.passNamesLatin\' | aliasStatic"></span></p><p class="login" ng-if="!vm.authoriseCustomer && !vm.accountExist">{{ \'web.passengersInfo.loginInvitationMessage\' | aliasStatic}} <a href="" fancybox="popupLogin">{{ \'web.passengersInfo.loginInvitationLink\' | aliasStatic}}</a></p><form class="passengerForm__js {{ vm.getOrderCountriesCssClasses() }}" ng-repeat="(passengerNumber, passenger) in vm.passengers" name="vm.passengerForms[{{passengerNumber}}]" form-submit-error-highlight="" novalidate=""><input type="hidden" name="categoryCode" ng-model="passenger.categoryCode"><div class="item"><div class="item__i"><div class="itemName"><div class="itemName__number"><span ng-show="vm.passengers.length > 1">{{ passengerNumber + 1 }}.</span> {{ \'web.passengerCategory.\' | aliasWithPrefix:passenger.categoryCode }}</div><div class="selectWrap itemName__ui-select" ng-if="vm.authoriseCustomer && vm.privatePassengers.length"><ui-select name="privatePassenger" search-enabled="false" ng-model="passenger.privatePassenger" theme="selectize" ui-select-custom="" ng-change="vm.setPrivatePassenger(passengerNumber)" class="ui-select-passengers-header"><ui-select-match placeholder="{{(vm.currentLanguage !== \'ru\' && $select.selected.value.firstNameEn ? $select.selected.value.firstNameEn : $select.selected.value.firstName) || ( \'web.passengersInfo.privatePassengerSelect\' | aliasStatic)}} {{vm.currentLanguage !== \'ru\' && $select.selected.value.lastNameEn ? $select.selected.value.lastNameEn : $select.selected.value.lastName}}">{{vm.currentLanguage !== \'ru\' && $select.selected.value.firstNameEn ? $select.selected.value.firstNameEn : $select.selected.value.firstName}} {{vm.currentLanguage !== \'ru\' && $select.selected.value.lastNameEn ? $select.selected.value.lastNameEn : $select.selected.value.lastName}}</ui-select-match><ui-select-choices repeat="privatePassenger.num as (num, privatePassenger) in vm.privatePassengers"><div class="ui-select-passengers-data">{{ vm.currentLanguage !== \'ru\' && privatePassenger.value.firstNameEn ? privatePassenger.value.firstNameEn : privatePassenger.value.firstName }} {{ vm.currentLanguage !== \'ru\' && privatePassenger.value.lastNameEn ? privatePassenger.value.lastNameEn : privatePassenger.value.lastName }}</div><div class="ui-select-passengers-birth">{{ privatePassenger.value.dateOfBirth }}</div></ui-select-choices></ui-select></div></div><table class="passengerInfo"><tbody><tr><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].lastName" touched="vm.submitTouched"></error-message><input type="text" name="lastName" ng-model="passenger.lastName" ng-blur="vm.lastNameBlurHandler(passengerNumber)" required="" ng-pattern="vm.passengersCheck.passengerLastNameRegexp" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.lastName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].firstName" touched="vm.submitTouched"></error-message><input type="text" name="firstName" ng-model="passenger.firstName" ng-blur="vm.firstNameBlurHandler(passengerNumber)" required="" ng-pattern="vm.passengersCheck.passengerFirstNameRegexp" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.firstName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].dateOfBirth" touched="vm.submitTouched"></error-message><input type="text" name="dateOfBirth" ng-model="passenger.dateOfBirth" required="" check-date-format="" check-date-range="" data-min-date="{{ vm.rangeBirthByPassenger[passengerNumber].from }}" data-max-date="{{ vm.rangeBirthByPassenger[passengerNumber].to }}" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" ui-mask="99.99.9999" model-view-value="true" ui-mask-placeholder="{{ \'web.datePattern\' | aliasStatic}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.dateOfBirth\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].gender" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.gender" theme="selectize" name="gender" search-enabled="false" error-highlight="{{vm.submitTouched}}" ui-select-custom="" class="ui-select-custom ui-select-passengers" required=""><ui-select-match placeholder="{{$select.selected.name || ( \'web.privatePassengers.gender\' | aliasStatic) }}">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="gender.code as gender in vm.passangersAlias"><div ng-bind-html="gender.name"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.gender\' | aliasStatic}}</span></label></div></td></tr><tr><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].nationality" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.nationality" theme="selectize" name="nationality" search-enabled="{{ !vm.isMobile }}" skip-focusser="true" ng-change="vm.nationalityChangeHandler(passengerNumber)" error-highlight="{{vm.submitTouched}}" ui-select-custom="" class="ui-select-custom ui-select-passengers" required=""><ui-select-match placeholder="{{$select.selected[vm.localNamePropName] || ( \'web.privatePassengers.nationality\' | aliasStatic) }}">{{$select.selected[vm.localNamePropName]}}</ui-select-match><ui-select-choices repeat="country.code as country in vm.countriesList | filter: {[vm.localNamePropName]: $select.search} track by country.code"><div ng-bind-html="country[vm.localNamePropName]"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.nationality\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].documentType" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.documentType" name="documentType" theme="selectize" search-enabled="false" ng-change="vm.documentTypeChangeHandler(passengerNumber)" class="ui-select-custom ui-select-passengers" ui-select-custom="" error-highlight="{{vm.submitTouched}}" required=""><ui-select-match placeholder="{{$select.selected.name || ( \'web.passengersInfo.documentType\' | aliasStatic) }}">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="doc.code as doc in vm.documentTypesByPassenger[passengerNumber]"><div class="{{ \'documentTypeOption_\' + doc.code }}" ng-bind-html="doc.name"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.documentType\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer" <error-message="" control="vm.passengerForms[passengerNumber].documentNumber" touched="vm.submitTouched"><info-message ng-if="passenger.documentType && vm.hasAlias(\'web.messages.formatDocumentNumber.\' + passenger.documentType)" touched="vm.submitTouched" control="vm.passengerForms[passengerNumber].documentNumber" format-alias="\'web.messages.formatDocumentNumber.\' + passenger.documentType"></info-message><input type="text" name="documentNumber" ng-model="passenger.documentNumber" required="" clean-document-number="" ng-pattern="vm.documentNumberRegexByPassenger[passengerNumber]" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.documentNumber\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer" ng-if="vm.getExpiryByDocType(passenger.documentType, passenger.categoryCode)"><error-message control="vm.passengerForms[passengerNumber].documentDate" touched="vm.submitTouched"></error-message><input type="text" name="documentDate" ng-model="passenger.documentDate" required="" check-date-format="" check-date-range="" data-min-date="{{ vm.getExpiryByDocType(passenger.documentType, passenger.categoryCode) }}" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" ui-mask="99.99.9999" model-view-value="true" ui-mask-placeholder="{{ \'web.datePattern\' | aliasStatic}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.documentDate\' | aliasStatic}}</span></label></div></td></tr><tr ng-if="(passenger.categoryCode == \'AAA\' || passenger.categoryCode == \'CPA\' || passenger.categoryCode == \'MLA\') && (vm.passengersCheck.allowEmail || vm.passengersCheck.allowPhone)"><td><div class="inp inp-animate-outer" ng-if="vm.passengersCheck.allowPhone"><error-message control="vm.passengerForms[passengerNumber].phone" format-alias="\'web.messages.formatPhone\'" touched="vm.submitTouched"></error-message><input type="tel" name="phone" ng-model="passenger.phone" ng-blur="vm.phoneBlurHandler(passengerNumber)" phone-mask="" ng-required="vm.passengersCheck.requirePhone" ng-pattern="\'customer.phoneRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" placeholder=""> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.phone\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer" ng-if="vm.passengersCheck.allowEmail"><error-message control="vm.passengerForms[passengerNumber].email" touched="vm.submitTouched"></error-message><input type="email" name="email" ng-model="passenger.email" ng-blur="vm.emailBlurHandler(passengerNumber)" ng-required="vm.passengersCheck.requireEmail" ng-pattern="vm.passengersCheck.emailRegex" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.email\' | aliasStatic}}</span></label></div></td><td class="mobileHide"></td><td class="mobileHide"></td></tr><tr ng-if="(passenger.categoryCode == \'AAA\' || passenger.categoryCode == \'CPA\' || passenger.categoryCode == \'MLA\') && vm.allowBonusCard"><td><div class="inp"><div class="customCheckbox"><label><input class="haveCart_js" type="checkbox" name="hasBonusCard" ng-model="passenger.hasBonusCard" ng-change="passenger.bonusCard = \'\';"><span></span> {{ \'web.passengersInfo.hasBonusCard\' | aliasStatic}}</label></div></div></td><td><div class="inp inp-animate-outer" ng-class="{ invisibleBonusCard: !passenger.hasBonusCard, visibleBonusCard: passenger.hasBonusCard }"><error-message control="vm.passengerForms[passengerNumber].bonusCard" touched="vm.submitTouched"></error-message><input type="text" class="inp-animate-placeholder" name="bonusCard" ng-model="passenger.bonusCard" ng-pattern="\'passengers.bonusCardRegex\' | param" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.bonusCard\' | aliasStatic}}</span></label></div></td><td class="mobileHide"></td><td class="mobileHide"></td></tr></tbody></table></div></div></form><form ng-if="vm.orderInfo && vm.passengersCheck" name="vm.customerForm" class="customerForm__js" form-submit-error-highlight="" novalidate=""><div class="item item_contact"><div class="item__i"><h3 class="itemName">{{ \'web.passengersInfo.customerHeader\' | aliasStatic}}</h3><table><tbody><tr><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.lastName" touched="vm.submitTouched"></error-message><input type="text" name="lastName" ng-model="vm.customer.lastName" required="" ng-pattern="\'customer.lastNameRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.lastName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.firstName" touched="vm.submitTouched"></error-message><input type="text" name="firstName" ng-model="vm.customer.firstName" required="" ng-pattern="\'customer.firstNameRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.firstName\' | aliasStatic}}</span></label></div></td></tr><tr><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.phone" format-alias="\'web.messages.formatPhone\'" touched="vm.submitTouched"></error-message><input type="tel" name="phone" ng-model="vm.customer.phone" phone-mask="" ng-pattern="\'customer.phoneRegexp\' | param" required="" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.phone\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.email" touched="vm.submitTouched"></error-message><input type="email" name="email" ng-model="vm.customer.email" required="" ng-pattern="\'site.emailRegexp\' | param" ng-change="vm.checkLogin()" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.email\' | aliasStatic}}</span></label></div></td></tr><tr ng-if="!vm.authoriseCustomer && vm.allowCreateAccount && vm.customer.createAccount"><td><div class="inp"><error-message control="vm.customerForm.password" touched="vm.submitTouched"></error-message><input type="password" name="password" ng-model="vm.customer.password" required="" ng-pattern="\'site.passwordRegexp\' | param" check-equals="{{ vm.customer.passwordRepeat }}" class="textInp" error-highlight="{{vm.submitTouched}}" tabindex="1000" placeholder="{{ \'web.customerInfo.password\' | aliasStatic}}"></div></td><td><div class="inp"><error-message control="vm.customerForm.passwordRepeat" touched="vm.submitTouched"></error-message><input type="password" name="passwordRepeat" ng-model="vm.customer.passwordRepeat" required="" ng-pattern="\'site.passwordRegexp\' | param" check-equals="{{ vm.customer.password }}" class="textInp" error-highlight="{{vm.submitTouched}}" tabindex="1001" placeholder="{{ \'web.customerInfo.passwordRepeat\' | aliasStatic}}"></div></td></tr><tr><td colspan="2"><div class="inp" ng-if="!vm.authoriseCustomer && vm.allowCreateAccount"><div class="customCheckbox"><label><input type="checkbox" ng-model="vm.customer.createAccount"> <span></span> {{ \'web.passengersInfo.createAccountInvitationMessage\' | aliasStatic}}</label></div></div></td></tr></tbody></table></div></div></form><p class="login" ng-if="!vm.authoriseCustomer && vm.accountExist">{{ \'web.passengersInfo.accountExistMessage\' | aliasStatic}} {{ vm.customer.email }} <a href="" fancybox="popupLogin" data-login="{{ vm.customer.email }}">{{ \'web.passengersInfo.loginInvitationLink\' | aliasStatic}}</a></p><div ng-if="vm.errorMessage" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p>{{ vm.errorMessage | aliasDynamic }}</p></div></div><div ng-if="\'passengers.usePersonalDataAgreeCheckbox\' | param" class="iconfirm"><div class="iconfirm__i"><div class="customCheckbox"><label><input type="checkbox" id="personalDataShareAgreeChb" ng-model="vm.personalDataShareAgree"><span></span></label></div><p><label for="personalDataShareAgreeChb"><wrap ng-bind-html="\'web.personalDataShareAgree\' | aliasStatic"></wrap></label></p></div></div><div class="passengers-form-footer" ng-bind-html="\'web.passengersInfo.footer\' | aliasStatic"></div></div></div><div class="searchResultsControl"><div class="searchResultsControl__i"><a href="#{{$root.ROUTES.SEARCH}}" class="btn btn_back">{{ \'web.buttons.back\' | aliasDynamic }}</a> <a href="" ng-click="vm.submitHandler()" class="btn btn_next" ng-class="{ disabled: (!vm.personalDataShareAgree && (\'passengers.usePersonalDataAgreeCheckbox\' | param)) }" ng-if="!vm.submitLoading"><span class="mobileHide">{{ \'web.buttons.gotoExtraServices\' | aliasStatic}}</span> <span class="mobileShow">{{ \'web.buttons.next\' | aliasStatic}}</span></a> <a href="" class="btn btn_next disabled loading-start" ng-if="vm.submitLoading"><span class="loader"><img alt="" src="themes/websky/assets/static/img/general/form/loader-circle-64.gif"></span> <span class="mobileHide">{{ \'web.buttons.gotoExtraServices\' | aliasStatic}}</span> <span class="mobileShow">{{ \'web.buttons.next\' | aliasStatic}}</span></a></div></div></div></div></div><div class="push"></div></section><app-footer ng-if="!vm.loading"></app-footer>');
}])}();