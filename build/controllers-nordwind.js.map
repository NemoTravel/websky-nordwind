{"version":3,"sources":["controllers-nordwind.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","./screens/search-order/search-order","2","SearchOrderScreenController","$routeParams","backend","redirect","submitSearch","vm","submitTouched","getParam","searchOrderAgree","searchOrderForm","$valid","goToAddServices","searchParams","pnrOrTicketNumber","lastName","clear","this","loading","ready","then","goToSearchSeparateOrder","angular","element","text","getAliasWithPrefix","passengerLastNameRegexp","applicationConstants","pnrOrTicketRegexp","clearOrderInfo","addOrderInfoListener","orderLoaded","controller"],"mappings":"CAAA,WAAY,QAASA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAE,kBAAmBC,UAASA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,GAAGF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAQ,IAAI,GAAIL,GAAE,kBAAmBD,UAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,GAAE,MAAOJ,OAAOiB,GAAG,SAAST,EAAQU,EAAOJ,GACxe,YACAN,GAAQ,yCAELW,sCAAsC,IAAIC,GAAG,SAASZ,EAAQU,EAAOJ,GACxE,YAMA,SAASO,GAA4BC,EAAcC,EAASC,GAyCxD,QAASC,KACLC,EAAGC,eAAgB,EAEbJ,EAAQK,SAAS,sCAAuCF,EAAGG,mBAC7DH,EAAGI,gBAAgBC,QAEnBP,EAASQ,gBAAgBN,EAAGO,aAAaC,kBAAmBR,EAAGO,aAAaE,UAIpF,QAASC,KACLV,EAAGQ,mBAAoB,EACvBR,EAAGS,UAAW,EAnDlB,GAAIT,GAAKW,IACTX,GAAGY,SAAU,EACbZ,EAAGO,gBACHP,EAAGD,aAAeA,EAClBC,EAAGU,MAAQA,EAEXb,EAAQgB,MAAMC,KAAK,WAEf,MAAIjB,GAAQK,SAAS,+BACjBJ,GAASiB,2BAIbC,QAAQC,QAAQ,SAASC,KAAKrB,EAAQsB,mBAAmB,iBAAkB,gBAE3EnB,EAAGoB,wBAA0BvB,EAAQwB,qBAAqBD,wBAC1DpB,EAAGsB,kBAAoBzB,EAAQwB,qBAAqBC,kBAEpDzB,EAAQ0B,iBACR1B,EAAQ2B,qBAAqB,WACzBxB,EAAGyB,aAAc,IAGjB7B,EAAaY,mBAAqBZ,EAAaa,WAE/CT,EAAGO,aAAaC,kBAAoBZ,EAAaY,kBACjDR,EAAGO,aAAaE,SAAWb,EAAaa,SAExCT,EAAGQ,kBAAoBZ,EAAaY,kBACpCR,EAAGS,SAAWb,EAAaa,SAE3BT,EAAGC,eAAgB,QAIvBD,EAAGY,SAAU,MA1CrBI,QAAQxB,OAAO,OAAOkC,WAClB,+BACC,eAAgB,UAAW,WAAY/B,cA6DjC","file":"controllers-nordwind.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\nrequire('./screens/search-order/search-order');\r\n\n},{\"./screens/search-order/search-order\":2}],2:[function(require,module,exports){\n\"use strict\";\nangular.module('app').controller(\n    'SearchOrderScreenController',\n    ['$routeParams', 'backend', 'redirect', SearchOrderScreenController]\n);\n\nfunction SearchOrderScreenController($routeParams, backend, redirect) {\n\n    var vm = this;\n    vm.loading = true;\n    vm.searchParams = {};\n    vm.submitSearch = submitSearch;\n    vm.clear = clear;\n\n    backend.ready.then(function () {\n\n        if (backend.getParam('site.rossiyaAirlineMode')) {\n            redirect.goToSearchSeparateOrder();\n            return;\n        }\n\n        angular.element('title').text(backend.getAliasWithPrefix('web.pageTitle.', 'searchOrder'));\n\n        vm.passengerLastNameRegexp = backend.applicationConstants.passengerLastNameRegexp;\n        vm.pnrOrTicketRegexp = backend.applicationConstants.pnrOrTicketRegexp;\n\n        backend.clearOrderInfo();\n        backend.addOrderInfoListener(function () {\n            vm.orderLoaded = true;\n        });\n\n        if ($routeParams.pnrOrTicketNumber && $routeParams.lastName) {\n\n            vm.searchParams.pnrOrTicketNumber = $routeParams.pnrOrTicketNumber;\n            vm.searchParams.lastName = $routeParams.lastName;\n\n            vm.pnrOrTicketNumber = $routeParams.pnrOrTicketNumber;\n            vm.lastName = $routeParams.lastName;\n\n            vm.submitTouched = true;\n\n        }\n\n        vm.loading = false;\n\n    });\n\n    function submitSearch() {\n        vm.submitTouched = true;\n        if (\n            (!backend.getParam('site.useSearchOrderAgreeCheckbox') || vm.searchOrderAgree) &&\n            vm.searchOrderForm.$valid\n        ) {\n            redirect.goToAddServices(vm.searchParams.pnrOrTicketNumber, vm.searchParams.lastName);\n        }\n    }\n\n    function clear() {\n        vm.pnrOrTicketNumber = false;\n        vm.lastName = false;\n    }\n\n}\n\n},{}]},{},[1]);\n"]}