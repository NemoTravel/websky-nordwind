{"version":3,"sources":["controllers-nordwind.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","define","amd","lvovich","this","firstname","d","lastname","middlename","m","l","middle","trim","first","last","toLowerCase","exceptions","s","g","startsWith","endsWith","substr","suffixes","Object","keys","filter","Array","isArray","some","forEach","b","gender","k","y","v","h","x","split","w","firstWord","push","W","join","arguments","j","tags","find","indexOf","test","A","mods","L","G","E","_","O","F","C","q","z","I","P","androgynous","female","male","M","T","incline","inclineFirstname","inclineLastname","inclineMiddlename","getGender","getFirstnameGender","getLastnameGender","getMiddlenameGender","cityIn","map","cityFrom","cityTo","defineProperty","value","2","nordwindEsController","$scope","backend","utils","$routeParams","$window","redirect","orderReadyHandler","addOrderInfoListener","orderInfo","vm","addUpdateOrderServicesListener","resp","priceVariant","isFreePricevariant","showNeedSelectPaymentFormMesage","es","reformatAvailableExtraServices","esList","getAvailableExtraServicesList","esItem","active","extraServicesList","searchOrderLoading","orderServicesLoading","getParam","hasBonusCard","ffpSumm","ffpBonus","then","total","errorMessage","error","showBackButton","updateOrderServices","loading","switchDefaultSelectedServices","addExtraServiceListener","state","modifyServicesLoading","addExtraServiceErrorListener","req","modifyServicesError","submitPayment","removeInsuranceAeroexpress","agree","selectedPaymentForm","selectedPaymentType","fancyboxTools","openHandler","phoneRequiredToo","submitCallback","email","phone","submitPaymentConfirm","confirmLoading","confirmError","startPaymentForExtraServices","card","pnr","lastName","goToConfirmOrder","eraseAeroexpressBecauseOfCurrency","eraseInsuranceBecauseOfCurrency","mode","removedSvcs","closeCallback","svcsToIssue","noExtraServicesLeft","disableOutsideCloseClick","fatalError","paymentFormChangeHandler","reloadPage","location","reload","openOrder","pnrOrTicketNumber","goToViewSeparateOrder","goToSearchOrder","clearSession","handleEsSelect","esCode","service","selected","closePopup","$on","event","data","ready","angular","element","text","getAliasWithPrefix","console","log","clearOrderInfoListeners","clearUpdateOrderServicesListeners","getOrderInfo","searchOrder","component","templateUrl","bindings","controllerAs","controller","3","nordwindMealController","getExtraServices","extraServices","slice","4","MealController","$element","switchService","locked","checkServiceRemovalProhibited","selectFirstAvailablePassengerFlight","removeExtraService","selectFlightPassenger","flightNum","passengerNum","selectedFlight","selectedPassenger","updateMealMenu","getFirstAvailableFlightNum","getFirstAvailablePassengerNum","mealMenu","itemsByPassengerSegments","mealMenuSubgroup","mealCountChangeHandler","subgroupNum","mealItem","delta","modifyExtraService","passenger_id","passengers","id","segment_id","plainFlights","subgroup","subgroups","amount","alreadySelectedCount","rfisc","removePassengerFlightMeal","getSelectedPassengerFlightMeal","currency","count","cost","groupedEditableExtraServices","meal","item","totalPrice","Big","plus","toFixed","scrollToStart","passengersTableContainer","scrollTo","scrollToEnd","scrollWidth","mobileTableScrollHandler","scrollLeft","clientWidth","scrollRight","canScrollRight","canScrollLeft","$apply","availableBySegments","availableByPassengerSegments","hasAlias","getAvailablePassengersCount","mealImagesPath","$watch","on","5","switchInsuranceCtrl","app","directive","scope","bindToController","6","city","lvovich/dist/lvovich.min","7","./components/nordwind-es/nordwind-es","./components/nordwind-meal/nordwind-meal","./components/nw-meal/nw-meal","./directives/switchInsurance","./filters/toCity","./screens/add-services/AddServicesScreenController","./screens/search-order/search-order","8","9","SearchOrderScreenController","$timeout","clear","clearOrderInfo","showSearchForm","partiallyAddedPassengers","submitSearch","submitTouched","searchOrderAgree","searchOrderForm","$valid","searchLoading","searchOrderByParams","searchParams","flight","date","needToSpecifyDocument","orderCompletelyInitialized","updateOrderInfoHandler","errorHandler","updateOrderInfo","confirmHandler","finishSeparatePassengersSearch","addPassenger","passengerLastNameRegexp","applicationConstants","pnrOrTicketRegexp","ticketRegexp"],"mappings":"CAAA,WAAY,QAASA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAE,kBAAmBC,UAASA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,GAAGF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAQ,IAAI,GAAIL,GAAE,kBAAmBD,UAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,GAAE,MAAOJ,OAAOiB,GAAG,SAAST,EAAQU,EAAOJ,IACve,SAASb,EAAEC,GAAG,gBAAiBY,IAAS,mBAAoBI,GAAOhB,EAAEY,GAAS,kBAAmBK,SAAQA,OAAOC,IAAID,QAAQ,WAAWjB,GAAGA,EAAED,EAAEoB,aAAaC,KAAK,SAASrB,GAAG,YAA4pJ,SAASD,GAAEC,GAAG,MAAOI,GAAEJ,EAAEC,EAAEqB,WAAW,QAASC,GAAEvB,GAAG,MAAOI,GAAEJ,EAAEC,EAAEuB,UAAU,QAASrB,GAAEH,GAAG,MAAOI,GAAEJ,EAAEC,EAAEwB,YAAY,QAASC,GAAE1B,EAAEC,GAAG,MAAOD,KAAIS,EAAER,EAAEA,IAAIQ,EAAET,EAAEA,IAAIC,EAAED,EAAE,KAAK,QAASQ,GAAER,GAAG,MAAO2B,GAAE,SAAS3B,GAAG,GAAIC,GAAEQ,CAAE,IAAGT,EAAE4B,SAAS3B,EAAEyB,EAAEzB,EAAEE,EAAEH,EAAE4B,OAAOC,UAAU7B,EAAE8B,QAAQ7B,EAAEyB,EAAEzB,EAAEF,EAAEC,EAAE8B,MAAMD,UAAU7B,EAAE+B,KAAK,CAAC,GAAI7B,GAAEqB,EAAEvB,EAAE+B,KAAKF,OAAQ,QAAO3B,IAAID,EAAEyB,EAAEzB,EAAEC,IAAI,MAAOD,IAAGD,IAAI,QAASI,GAAEJ,EAAEC,GAAG,IAAID,IAAIC,EAAE,MAAO,KAAK,IAAIC,GAAEF,EAAEgC,aAAc,IAAG/B,EAAEgC,WAAW,CAAC,GAAIC,GAAEC,EAAElC,EAAEgC,WAAW,SAASjC,GAAG,MAAOA,GAAEoC,WAAW,KAAKlC,EAAEmC,SAASrC,EAAEsC,OAAO,IAAItC,IAAIE,GAAI,IAAGgC,EAAE,MAAOA,GAAE,MAAOjC,GAAEsC,SAASJ,EAAElC,EAAEsC,SAAS,SAASvC,GAAG,MAAOE,GAAEmC,SAASrC,KAAK,KAAK,QAASmC,GAAEjC,EAAEgC,GAAG,GAAIlC,GAAEwC,OAAOC,KAAKvC,GAAGwC,OAAO,SAAS1C,GAAG,GAAIC,GAAEC,EAAEF,EAAG,OAAO2C,OAAMC,QAAQ3C,IAAIA,EAAE4C,KAAKX,IAAK,OAAO,KAAIlC,EAAEe,QAAQyB,OAAOC,KAAKvC,GAAG4C,QAAQ,SAAS9C,GAAG,GAAIC,GAAEC,EAAEF,EAAG2C,OAAMC,QAAQ3C,IAAIA,EAAE4C,KAAKX,KAAK,MAAM7B,EAAEL,EAAE,IAAI,QAASK,GAAEL,GAAG,OAAOA,GAAG,IAAI,OAAO,IAAKE,GAAE,MAAOA,EAAE,KAAI,SAAS,IAAKgC,GAAE,MAAOA,EAAE,KAAI,cAAc,IAAKzB,GAAE,MAAOA,EAAE,SAAQ,MAAO,OAAM,QAASkB,GAAE3B,GAAG,OAAOA,GAAG,IAAI,OAAO,IAAKE,GAAE,MAAM,MAAO,KAAI,SAAS,IAAKgC,GAAE,MAAM,QAAS,KAAI,cAAc,IAAKzB,GAAE,MAAM,aAAc,SAAQ,MAAO,OAAkC,QAASsC,GAAE/C,GAAG2C,MAAMC,QAAQ5C,EAAEiC,aAAajC,EAAEiC,WAAWa,QAAQ,SAAS9C,GAAGA,EAAEgD,OAAO3C,EAAEL,EAAEgD,UAAUL,MAAMC,QAAQ5C,EAAEuC,WAAWvC,EAAEuC,SAASO,QAAQ,SAAS9C,GAAGA,EAAEgD,OAAO3C,EAAEL,EAAEgD,UAAU,QAASC,GAAEjD,EAAEC,EAAEC,EAAEgC,GAAG,IAAI,GAAInC,GAAE,SAASC,GAAG,OAAOA,GAAG,IAAI,aAAa,IAAKM,GAAE,MAAOA,EAAE,KAAI,WAAW,IAAK4C,GAAE,MAAOA,EAAE,KAAI,SAAS,IAAKC,GAAE,MAAOA,EAAE,KAAI,aAAa,IAAKC,GAAE,MAAOA,EAAE,KAAI,eAAe,IAAKC,GAAE,MAAOA,EAAE,KAAI,gBAAgB,IAAKzC,GAAE,MAAOA,EAAE,SAAQ,MAAO,QAAOX,GAAGsB,EAAElB,EAAEH,GAAGC,EAAEH,EAAEsD,MAAM,KAAK7C,KAAKiB,EAAE,EAAEA,EAAEvB,EAAEY,OAAOW,IAAI,CAAC,GAAIlB,GAAEL,EAAEuB,GAAGtB,EAAEmD,EAAE/C,EAAEe,EAAEW,GAAGsB,UAAU,IAAI9B,GAAG,EAAEvB,EAAEY,QAASN,GAAEgD,KAAKrD,EAAEsD,EAAEtD,EAAEI,EAAET,GAAGS,GAAG,MAAOC,GAAEkD,KAAK,KAAK,QAASJ,GAAEvD,EAAEC,EAAEC,GAAG,GAAIgC,GAAE,EAAE0B,UAAU7C,QAAQ,SAAS6C,UAAU,GAAGA,UAAU,KAAM,KAAI5D,EAAE,MAAO,KAAK,IAAID,GAAEC,EAAEgC,cAAcT,IAAK,IAAGiB,OAAOC,KAAKP,GAAGY,QAAQ,SAAS9C,GAAGkC,EAAElC,IAAIuB,EAAEkC,KAAKzD,KAAKE,EAAE+B,WAAW,CAAC,GAAI9B,GAAE0D,EAAE3D,EAAE+B,WAAWhC,EAAE,SAASD,GAAG,MAAOA,KAAID,GAAGwB,EAAG,IAAGpB,EAAE,MAAOA,GAAE,MAAOD,GAAEqC,SAASsB,EAAE3D,EAAEqC,SAAStC,EAAE,SAASD,GAAG,MAAOD,GAAEsC,SAASrC,IAAIuB,GAAG,KAAK,QAASsC,GAAE7D,EAAEC,EAAEC,GAAG,IAAI,GAAIgC,GAAE,EAAE0B,UAAU7C,QAAQ,SAAS6C,UAAU,GAAGA,UAAU,MAAM7D,EAAE,EAAEA,EAAEC,EAAEe,OAAOhB,IAAI,CAAC,GAAIwB,GAAEvB,EAAED,EAAG,MAAKwB,EAAEuC,MAAMvC,EAAEuC,KAAKC,KAAK,SAAS/D,GAAG,MAAM,IAAIkC,EAAE8B,QAAQhE,QAASuB,EAAEyB,SAASvC,GAAGR,IAAIsB,EAAEyB,SAASzB,EAAE0C,KAAM,IAAI,GAAI9D,GAAE,EAAEA,EAAEoB,EAAE0C,KAAKlD,OAAOZ,IAAI,GAAGD,EAAEqB,EAAE0C,KAAK9D,IAAI,MAAOoB,GAAE,MAAO,MAAK,QAAS2C,GAAElE,EAAEC,GAAG,MAAOD,IAAGC,GAAGD,EAAEe,OAAOf,EAAEC,GAAG,IAAI,QAASyD,GAAE1D,EAAEC,EAAEC,GAAG,GAAIgC,EAAE,QAAOhC,GAAG,IAAKI,GAAE4B,EAAE,GAAI,MAAM,KAAKgB,GAAEhB,EAAEgC,EAAElE,EAAEmE,KAAK,EAAG,MAAM,KAAKhB,GAAEjB,EAAEgC,EAAElE,EAAEmE,KAAK,EAAG,MAAM,KAAKf,GAAElB,EAAEgC,EAAElE,EAAEmE,KAAK,EAAG,MAAM,KAAKd,GAAEnB,EAAEgC,EAAElE,EAAEmE,KAAK,EAAG,MAAM,KAAKvD,GAAEsB,EAAEgC,EAAElE,EAAEmE,KAAK,EAAG,MAAM,SAAQjC,EAAE,IAAI,MAAOkC,GAAEnE,EAAEiC,GAAG,QAASkC,GAAEpE,EAAEC,GAAG,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAEc,OAAOb,IAAI,CAAC,GAAIgC,GAAEjC,EAAEC,EAAG,QAAOgC,GAAG,IAAI,IAAI,KAAM,KAAI,IAAIlC,EAAEA,EAAEsC,OAAO,EAAEtC,EAAEe,OAAO,EAAG,MAAM,SAAQf,GAAGkC,GAAG,MAAOlC,GAAg1L,QAASqE,GAAErE,GAAG,MAAOiD,GAAEjD,EAAE,EAAE4D,UAAU7C,QAAQ,SAAS6C,UAAU,GAAGA,UAAU,GAAG,cAAc,EAAEA,UAAU7C,OAAO6C,UAAU,GAAG,SAAS7D,EAAEC,GAAGsE,GAAG,QAASC,GAAEvE,GAAG,MAAOiD,GAAEjD,EAAE,EAAE4D,UAAU7C,QAAQ,SAAS6C,UAAU,GAAGA,UAAU,GAAG,cAAc,EAAEA,UAAU7C,OAAO6C,UAAU,GAAG,SAASrC,EAAEvB,GAAGwE,GAAG,QAASC,GAAEzE,GAAG,MAAOiD,GAAEjD,EAAE,EAAE4D,UAAU7C,QAAQ,SAAS6C,UAAU,GAAGA,UAAU,GAAG,cAAc,EAAEA,UAAU7C,OAAO6C,UAAU,GAAG,SAASzD,EAAEH,GAAG0E,GAA83C,QAASC,GAAE3E,EAAEC,GAAG,IAAI,GAAIC,GAAEF,EAAEgC,cAAcE,EAAE,EAAEA,EAAEjC,EAAEc,OAAOmB,IAAI,GAAGjC,EAAEiC,KAAKhC,EAAE,OAAM,CAAG,QAAM,EAAG,QAAS0E,GAAE5E,EAAEC,EAAEC,GAAG,GAAG,EAAEA,EAAEa,OAAO,CAAC,GAAG4D,EAAE3E,EAAE6E,GAAG,OAAM,CAAG,KAAI,GAAI3C,GAAE,EAAIjC,EAAFiC,EAAIA,IAAI,GAAGyC,EAAEzE,EAAEgC,GAAG4C,GAAG,OAAM,EAAG,OAAM,EAA9oe,GAAI7E,IAAGuB,UAAUS,YAAY8C,aAAa,OAAO,QAAQ,SAAS,SAAS,OAAO,MAAM,aAAaxC,UAAUwC,aAAa,KAAK,KAAK,MAAM,QAAQ,KAAK,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI,MAAMC,QAAQ,MAAM,KAAK,MAAM,MAAM,MAAM,MAAM,OAAOC,MAAM,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,MAAM,KAAK,QAAQ3D,WAAWW,YAAY8C,aAAa,OAAO,SAAS,SAAS,OAAO,QAAQ,UAAU,OAAO,OAAO,MAAM,OAAO,SAAS,OAAO,OAAO,QAAQ,QAAQ,OAAO,SAAS,QAAQ,QAAQ,UAAU,QAAQ,SAAS,SAAS,QAAQ,SAAS,QAAQ,SAAS,UAAU,OAAO,WAAW,OAAO,SAAS,SAAS,OAAO,OAAO,SAASE,MAAM,MAAM,QAAQ,QAAQ,OAAO,OAAO,OAAO,OAAO,SAAS,SAAS,UAAU,QAAQ,OAAO,UAAU,YAAY,MAAM,OAAO,SAAS,SAAS,WAAW,QAAQ,OAAO,OAAO,SAAS,OAAO,OAAO,OAAO,SAAS,OAAO,OAAO,SAAS,SAAS,UAAU,UAAU,SAAS,UAAU,SAAS,WAAW,QAAQ,WAAW,OAAO,OAAO,UAAU,SAAS,SAAS,QAAQ,MAAM,SAAS,SAAS,SAAS,SAAS,WAAW,aAAa,MAAM,MAAM,OAAO,SAAS,SAAS,UAAU,QAAQ,MAAM,QAAQ,QAAQ,SAAS,OAAO,OAAO,QAAQ,QAAQ,UAAU,SAAS,SAAS,OAAO,UAAU,SAAS,MAAM,OAAO,aAAa,UAAU,SAAS,QAAQ,YAAY,UAAU,QAAQ,SAAS,MAAM,OAAO,MAAM,QAAQ,UAAU,OAAO,QAAQ,QAAQ,QAAQ,UAAU,UAAU,UAAU,SAAS,SAAS,OAAO,QAAQ,OAAO,OAAO,OAAO,OAAO,SAAS,OAAO,QAAQ,OAAO,MAAM,OAAO,OAAO,OAAO,QAAQ,OAAO,SAAS,SAAS,SAAS,UAAU,UAAU,SAAS,OAAO,SAAS,MAAM,QAAQ,SAASD,QAAQ,SAAS,SAAS,SAAS,WAAW,UAAU,SAAS,SAAS,QAAQ,WAAW,QAAQ,SAAS,SAAS,QAAQ,YAAY,OAAO,SAAS,OAAO,QAAQ,OAAO,QAAQ,QAAQ,QAAQ,UAAU,UAAU,QAAQ,YAAY,WAAW,MAAM,OAAO,UAAU,QAAQ,WAAW,OAAO,OAAO,QAAQ,OAAO,SAAS,UAAU,SAAS,UAAU,WAAW,UAAU,UAAU,SAAS,OAAO,OAAO,MAAM,OAAO,QAAQ,OAAO,UAAU,UAAU,WAAW,QAAQ,OAAO,SAAS,OAAO,QAAQ,SAAS,QAAQ,QAAQ,SAAS,WAAW,SAAS,UAAU,OAAO,SAAS,SAAS,SAAS,SAAS,UAAU,SAAS,SAAS,OAAO,YAAY,QAAQ,QAAQ,SAAS,WAAW,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ,QAAQ,UAAU,SAAS,SAAS,QAAQ,UAAU,UAAU,SAAS,UAAU,SAAS,UAAU,UAAU,QAAQ,SAAS,QAAQ,SAAS,SAAS,UAAU,WAAW,SAAS,SAAS,SAAS,UAAU,UAAU,UAAU,UAAU,QAAQ,SAAS,SAAS,UAAU,QAAQ,SAAS,QAAQ,QAAQ,YAAY,QAAQ,SAAS,UAAU,QAAQ,UAAU,WAAW,QAAQ,UAAU,QAAQ,UAAU,QAAQ,OAAO,UAAU,OAAO,QAAQ,OAAO,QAAQ,OAAO,SAAS,UAAU,QAAQ,QAAQ,UAAU,QAAQ,QAAQ,UAAU,SAAS,WAAW,OAAO,WAAW,SAAS,WAAW,QAAQ,UAAU,UAAU,WAAW,WAAW,UAAU,MAAM,QAAQ,QAAQ,QAAQ,SAAS,SAAS,OAAO,UAAU,QAAQ,SAAS,QAAQ,QAAQ,WAAW,YAAY,MAAM,QAAQ,QAAQ,WAAW,SAAS,SAAS,OAAO,QAAQ,UAAU,WAAW,OAAO,SAAS,SAAS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","file":"controllers-nordwind.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n(e.lvovich={})}(this,function(e){\"use strict\";var n={lastname:{exceptions:{androgynous:[\"бова\",\"регин\",\"дарвин\",\"пэйлин\",\"грин\",\"цин\",\"шенгелая\"]},suffixes:{androgynous:[\"ан\",\"ко\",\"дзе\",\"швили\",\"ян\",\"к\",\"ер\",\"ц\",\"г\",\"йн\",\"дт\",\"ен\",\"ич\",\"о\",\"ун\"],female:[\"ова\",\"ая\",\"ына\",\"ина\",\"ева\",\"ска\",\"ёва\"],male:[\"кий\",\"ов\",\"ын\",\"ев\",\"ин\",\"ёв\",\"хий\",\"ний\",\"ый\",\"ой\"]}},firstname:{exceptions:{androgynous:[\"анри\",\"алвард\",\"валери\",\"женя\",\"закия\",\"захария\",\"иона\",\"кири\",\"ким\",\"муса\",\"райхон\",\"саша\",\"сева\",\"ардак\",\"арман\",\"асыл\",\"баглан\",\"бакыт\",\"бахыт\",\"еркежан\",\"жанат\",\"жаркын\",\"куаныш\",\"манат\",\"мереке\",\"рауан\",\"сымбат\",\"тлеухан\",\"умит\",\"улжалгас\",\"ырыс\",\"айбала\",\"акбала\",\"ирза\",\"арши\",\"амиль\"],male:[\"аба\",\"абиба\",\"савва\",\"лёва\",\"вова\",\"-ага\",\"агга\",\"серега\",\"алиада\",\"муктада\",\"абида\",\"алда\",\"маджуда\",\"нурлыхуда\",\"гиа\",\"элиа\",\"гарсиа\",\"вавила\",\"гавриила\",\"генка\",\"лука\",\"дима\",\"зосима\",\"тима\",\"фима\",\"фома\",\"кузьма\",\"жора\",\"миша\",\"ермила\",\"данила\",\"гаврила\",\"абдалла\",\"аталла\",\"абдилла\",\"атилла\",\"кайролла\",\"абула\",\"свитлана\",\"бена\",\"гена\",\"агелина\",\"джанна\",\"кришна\",\"степа\",\"дра\",\"назера\",\"валера\",\"эстера\",\"двойра\",\"калистра\",\"заратустра\",\"юра\",\"иса\",\"аиса\",\"халиса\",\"холиса\",\"валенса\",\"мусса\",\"ата\",\"паата\",\"алета\",\"никита\",\"мота\",\"шота\",\"фаста\",\"коста\",\"маритта\",\"малюта\",\"васюта\",\"вафа\",\"мустафа\",\"ганифа\",\"лев\",\"яков\",\"константин\",\"марсель\",\"рамиль\",\"эмиль\",\"бактыгуль\",\"даниэль\",\"игорь\",\"арминэ\",\"изя\",\"кузя\",\"гия\",\"мазия\",\"кирикия\",\"ркия\",\"еркия\",\"эркия\",\"гулия\",\"аксания\",\"закария\",\"зекерия\",\"гарсия\",\"шендля\",\"филя\",\"вилля\",\"толя\",\"коля\",\"ваня\",\"саня\",\"загиря\",\"боря\",\"цайся\",\"вася\",\"ося\",\"петя\",\"витя\",\"митя\",\"костя\",\"илья\",\"абдала\",\"абдель\",\"фидель\",\"фридель\",\"абдилла\",\"аталла\",\"абла\",\"лазарь\",\"ава\",\"вовка\",\"семён\"],female:[\"судаба\",\"сураба\",\"любава\",\"джанлука\",\"варвара\",\"наташа\",\"зайнаб\",\"любов\",\"сольвейг\",\"шакед\",\"аннаид\",\"ингрид\",\"синди\",\"аллаберди\",\"лали\",\"натали\",\"лили\",\"нелли\",\"элли\",\"эмили\",\"амили\",\"адели\",\"гулькай\",\"алтынай\",\"гюнай\",\"гюльчитай\",\"нурангиз\",\"лиз\",\"элиз\",\"ботагоз\",\"юлдуз\",\"диляфруз\",\"габи\",\"сажи\",\"фанни\",\"мери\",\"элдари\",\"эльдари\",\"хилари\",\"хиллари\",\"аннемари\",\"розмари\",\"товсари\",\"ансари\",\"одри\",\"тери\",\"ири\",\"катя\",\"катри\",\"мэри\",\"сатаней\",\"ефтений\",\"верунчик\",\"гюзел\",\"этел\",\"рэйчел\",\"джил\",\"мерил\",\"нинелл\",\"бурул\",\"ахлам\",\"майрам\",\"махаррам\",\"мириам\",\"дилярам\",\"асем\",\"мерьем\",\"мирьем\",\"эркаим\",\"гулаим\",\"айгерим\",\"марьям\",\"мирьям\",\"эван\",\"гульжиган\",\"айдан\",\"айжан\",\"вивиан\",\"гульжиан\",\"лилиан\",\"мариан\",\"саиман\",\"джоан\",\"чулпан\",\"лоран\",\"моран\",\"гульшан\",\"аделин\",\"жаклин\",\"карин\",\"каролин\",\"каталин\",\"катрин\",\"керстин\",\"кэтрин\",\"мэрилин\",\"рузалин\",\"хелин\",\"цеткин\",\"ширин\",\"элисон\",\"дурсун\",\"кристин\",\"гульжиян\",\"марьян\",\"ренато\",\"зейнеп\",\"санабар\",\"дильбар\",\"гулизар\",\"гульзар\",\"пилар\",\"дагмар\",\"элинар\",\"нилуфар\",\"анхар\",\"гаухар\",\"естер\",\"эстер\",\"дженнифер\",\"линор\",\"элинор\",\"элеонор\",\"айнур\",\"гульнур\",\"шамсинур\",\"элнур\",\"ильсияр\",\"нигяр\",\"сигитас\",\"агнес\",\"анес\",\"долорес\",\"инес\",\"анаис\",\"таис\",\"эллис\",\"элис\",\"кларис\",\"амнерис\",\"айрис\",\"дорис\",\"беатрис\",\"грейс\",\"грэйс\",\"ботагос\",\"маргос\",\"джулианс\",\"арус\",\"диляфрус\",\"саодат\",\"зулхижат\",\"хамат\",\"патимат\",\"хатимат\",\"альжанат\",\"маймунат\",\"гульшат\",\"рут\",\"иргаш\",\"айнаш\",\"агнеш\",\"зауреш\",\"тэрбиш\",\"ануш\",\"азгануш\",\"гаруш\",\"николь\",\"адась\",\"адула\",\"ахмадула\",\"гейбадула\",\"лив\",\"ираги\",\"пегги\",\"абдурефи\",\"адерми\",\"лакшми\",\"мими\",\"наоми\",\"изабель\",\"абигейль\",\"зебо\",\"аширбу\",\"судаба\",\"айсулу\",\"айши\",\"жанет\",\"гузаль\",\"сапият\",\"зауре\",\"кармен\",\"мадлен\",\"алсу\",\"айсу\",\"амели\",\"-бану\",\"ассоль\",\"николь\"]},suffixes:{androgynous:[\"щи\",\"ки\"],male:[\"аба\",\"б\",\"ав\",\"ев\",\"ов\",\"во\",\"г\",\"д\",\"ж\",\"з\",\"би\",\"ди\",\"жи\",\"ли\",\"гани\",\"ит\",\"до\",\"айт\",\"юм\",\"дула\",\"ив\",\"ги\",\"улла\",\"улль\",\"фи\",\"аль\",\"ми\",\"бель\",\"була\",\"йль\",\"яй\",\"бо\",\"бу\",\"кр\",\"ыль\",\"ыт\",\"вва\",\"вель\",\"вни\",\"аба\",\"бала\",\"улу\",\"рза\",\"ши\",\"паша\",\"го\",\"но\",\"ет\",\"ят\",\"ре\",\"ри\",\"ай\",\"ей\",\"ий\",\"ой\",\"ый\",\"к\",\"л\",\"ам\",\"ем\",\"им\",\"ом\",\"ум\",\"ым\",\"ям\",\"ан\",\"бен\",\"вен\",\"ген\",\"ден\",\"ин\",\"сейн\",\"он\",\"ун\",\"ян\",\"ио\",\"ло\",\"ро\",\"то\",\"шо\",\"п\",\"ар\",\"др\",\"ер\",\"ир\",\"ор\",\"тр\",\"ур\",\"ыр\",\"яр\",\"ас\",\"ес\",\"ис\",\"йс\",\"кс\",\"мс\",\"ос\",\"нс\",\"рс\",\"ус\",\"юс\",\"яс\",\"ат\",\"кт\",\"нт\",\"рт\",\"ст\",\"ут\",\"ф\",\"х\",\"ш\",\"ы\",\"сь\",\"тау\",\"ен\",\"коль\",\"рау\",\"обе\",\"убе\",\"иль\",\"ево\",\"ово\",\"шу\",\"ду\",\"пуль\",\"нко\",\"су\",\"вль\",\"оль\",\"ёв\",\"ём\",\"ец\",\"сс\",\"льс\",\"хт\",\"рн\",\"дт\"],female:[\"иба\",\"люба\",\"лава\",\"ева\",\"га\",\"да\",\"еа\",\"иза\",\"иа\",\"ика\",\"нка\",\"ска\",\"ела\",\"ила\",\"илла\",\"эла\",\"има\",\"на\",\"ра\",\"са\",\"та\",\"фа\",\"еса\",\"сса\",\"гуль\",\"куль\",\"нуэль\",\"гюль\",\"нэ\",\"ая\",\"ея\",\"ия\",\"йя\",\"ля\",\"мя\",\"оя\",\"ря\",\"ся\",\"вья\",\"лья\",\"мья\",\"нья\",\"рья\",\"сья\",\"тья\",\"фья\",\"зя\",\"нша\",\"ха\",\"тка\",\"нь\",\"чь\",\"мь\",\"ерь\",\"овка\",\"евка\",\"мба\",\"зь\",\"лка\",\"сала\",\"бла\",\"арь\",\"ума\",\"пи\",\"дель\",\"не\",\"жка\",\"си\",\"ибе\",\"абе\",\"елла\",\"ие\",\"фе\",\"фя\"]}},middlename:{suffixes:{female:[\"на\",\"кызы\",\"гызы\"],male:[\"ич\",\"оглы\",\"улы\",\"уулу\"]}}},t=1,s=2,a=4;function r(e){return i(e,n.firstname)}function d(e){return i(e,n.lastname)}function o(e){return i(e,n.middlename)}function m(e,n){return e===a?n:n===a?e:e===n?e:null}function u(e){return l(function(e){var n=a;if(e.middle&&(n=m(n,o(e.middle.trim()))),e.first&&(n=m(n,r(e.first.trim()))),e.last){var t=d(e.last.trim());null!==t&&(n=m(n,t))}return n}(e))}function i(e,n){if(!e||!n)return null;var t=e.toLowerCase();if(n.exceptions){var s=g(n.exceptions,function(e){return e.startsWith(\"-\")?t.endsWith(e.substr(1)):e===t});if(s)return s}return n.suffixes?g(n.suffixes,function(e){return t.endsWith(e)}):null}function g(t,s){var e=Object.keys(t).filter(function(e){var n=t[e];return Array.isArray(n)&&n.some(s)});return 1!==e.length?(Object.keys(t).forEach(function(e){var n=t[e];Array.isArray(n)&&n.some(s)}),null):f(e[0])}function f(e){switch(e){case\"male\":case t:return t;case\"female\":case s:return s;case\"androgynous\":case a:return a;default:return null}}function l(e){switch(e){case\"male\":case t:return\"male\";case\"female\":case s:return\"female\";case\"androgynous\":case a:return\"androgynous\";default:return null}}var c=1,y=2,v=3,h=4,x=5,p=6;function b(e){Array.isArray(e.exceptions)&&e.exceptions.forEach(function(e){e.gender=f(e.gender)}),Array.isArray(e.suffixes)&&e.suffixes.forEach(function(e){e.gender=f(e.gender)})}function k(e,n,t,s){for(var r=function(e){switch(e){case\"nominative\":case c:return c;case\"genitive\":case y:return y;case\"dative\":case v:return v;case\"accusative\":case h:return h;case\"instrumental\":case x:return x;case\"prepositional\":case p:return p;default:return null}}(n),d=f(t),o=e.split(\"-\"),a=[],m=0;m<o.length;m++){var u=o[m],i=w(u,d,s,{firstWord:0===m&&1<o.length});a.push(i?W(i,u,r):u)}return a.join(\"-\")}function w(e,n,t){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!e)return null;var r=e.toLowerCase(),d=[];if(Object.keys(s).forEach(function(e){s[e]&&d.push(e)}),t.exceptions){var o=j(t.exceptions,n,function(e){return e===r},d);if(o)return o}return t.suffixes?j(t.suffixes,n,function(e){return r.endsWith(e)},d):null}function j(e,n,t){for(var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=0;r<e.length;r++){var d=e[r];if((!d.tags||d.tags.find(function(e){return-1!=s.indexOf(e)}))&&((d.gender===a||n===d.gender)&&d.test))for(var o=0;o<d.test.length;o++)if(t(d.test[o]))return d}return null}function A(e,n){return e&&n<=e.length?e[n]:\".\"}function W(e,n,t){var s;switch(t){case c:s=\".\";break;case y:s=A(e.mods,0);break;case v:s=A(e.mods,1);break;case h:s=A(e.mods,2);break;case x:s=A(e.mods,3);break;case p:s=A(e.mods,4);break;default:s=\".\"}return L(n,s)}function L(e,n){for(var t=0;t<n.length;t++){var s=n[t];switch(s){case\".\":break;case\"-\":e=e.substr(0,e.length-1);break;default:e+=s}}return e}var O={exceptions:[{gender:\"androgynous\",test:[\"бонч\",\"абдул\",\"белиц\",\"гасан\",\"дюссар\",\"дюмон\",\"книппер\",\"корвин\",\"ван\",\"шолом\",\"тер\",\"призван\",\"мелик\",\"вар\",\"фон\"],mods:[\".\",\".\",\".\",\".\",\".\"],tags:[\"first_word\"]},{gender:\"androgynous\",test:[\"дюма\",\"тома\",\"дега\",\"люка\",\"ферма\",\"гамарра\",\"петипа\",\"шандра\",\"скаля\",\"каруана\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"androgynous\",test:[\"гусь\",\"ремень\",\"камень\",\"онук\",\"богода\",\"нечипас\",\"долгопалец\",\"маненок\",\"рева\",\"кива\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"androgynous\",test:[\"вий\",\"сой\",\"цой\",\"хой\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]}],suffixes:[{gender:\"female\",test:[\"б\",\"в\",\"г\",\"д\",\"ж\",\"з\",\"й\",\"к\",\"л\",\"м\",\"н\",\"п\",\"р\",\"с\",\"т\",\"ф\",\"х\",\"ц\",\"ч\",\"ш\",\"щ\",\"ъ\",\"ь\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"androgynous\",test:[\"орота\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"female\",test:[\"ска\",\"цка\"],mods:[\"-ой\",\"-ой\",\"-ую\",\"-ой\",\"-ой\"]},{gender:\"female\",test:[\"цкая\",\"ская\",\"ная\",\"ая\"],mods:[\"--ой\",\"--ой\",\"--ую\",\"--ой\",\"--ой\"]},{gender:\"female\",test:[\"яя\"],mods:[\"--ей\",\"--ей\",\"--юю\",\"--ей\",\"--ей\"]},{gender:\"male\",test:[\"иной\",\"уй\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"androgynous\",test:[\"ца\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"рих\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"androgynous\",test:[\"ия\"],mods:[\"-и\",\"-и\",\"-ю\",\"-ей\",\"-и\"]},{gender:\"androgynous\",test:[\"иа\",\"аа\",\"оа\",\"уа\",\"ыа\",\"еа\",\"юа\",\"эа\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"androgynous\",test:[\"о\",\"е\",\"э\",\"и\",\"ы\",\"у\",\"ю\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"male\",test:[\"их\",\"ых\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"female\",test:[\"ова\",\"ева\",\"на\",\"ёва\"],mods:[\"-ой\",\"-ой\",\"-у\",\"-ой\",\"-ой\"]},{gender:\"androgynous\",test:[\"га\",\"ка\",\"ха\",\"ча\",\"ща\",\"жа\",\"ша\"],mods:[\"-и\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"androgynous\",test:[\"а\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"male\",test:[\"ь\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"androgynous\",test:[\"я\"],mods:[\"-и\",\"-е\",\"-ю\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"обей\"],mods:[\"--ья\",\"--ью\",\"--ья\",\"--ьем\",\"--ье\"]},{gender:\"male\",test:[\"ей\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"male\",test:[\"ян\",\"ан\",\"йн\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"male\",test:[\"ынец\",\"овец\"],mods:[\"--ца\",\"--цу\",\"--ца\",\"--цом\",\"--це\"]},{gender:\"male\",test:[\"нец\",\"обец\"],mods:[\"--ца\",\"--цу\",\"--ца\",\"--цем\",\"--це\"]},{gender:\"male\",test:[\"ай\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"male\",test:[\"гой\",\"кой\"],mods:[\"-го\",\"-му\",\"-го\",\"--им\",\"-м\"]},{gender:\"male\",test:[\"ой\"],mods:[\"-го\",\"-му\",\"-го\",\"--ым\",\"-м\"]},{gender:\"male\",test:[\"ах\",\"ив\",\"шток\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"male\",test:[\"ший\",\"щий\",\"жий\",\"ний\"],mods:[\"--его\",\"--ему\",\"--его\",\"-м\",\"--ем\"]},{gender:\"male\",test:[\"ый\",\"кий\",\"хий\"],mods:[\"--ого\",\"--ому\",\"--ого\",\"-м\",\"--ом\"]},{gender:\"male\",test:[\"ий\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-и\"]},{gender:\"male\",test:[\"ок\"],mods:[\"--ка\",\"--ку\",\"--ка\",\"--ком\",\"--ке\"]},{gender:\"male\",test:[\"иец\",\"еец\"],mods:[\"--йца\",\"--йцу\",\"--йца\",\"--йцом\",\"--йце\"]},{gender:\"male\",test:[\"ец\"],mods:[\"--ца\",\"--цу\",\"--ца\",\"--цом\",\"--це\"]},{gender:\"male\",test:[\"ц\",\"ч\",\"ш\",\"щ\"],mods:[\"а\",\"у\",\"а\",\"ем\",\"е\"]},{gender:\"male\",test:[\"ен\",\"нн\",\"он\",\"ун\",\"б\",\"г\",\"д\",\"ж\",\"з\",\"к\",\"л\",\"м\",\"п\",\"р\",\"с\",\"т\",\"ф\",\"х\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"male\",test:[\"в\",\"н\"],mods:[\"а\",\"у\",\"а\",\"ым\",\"е\"]}]},C={exceptions:[{gender:\"androgynous\",test:[\"борух\"],mods:[\".\",\".\",\".\",\".\",\".\"],tags:[\"first_word\"]}],suffixes:[{gender:\"male\",test:[\"мич\",\"ьич\",\"кич\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"male\",test:[\"ич\"],mods:[\"а\",\"у\",\"а\",\"ем\",\"е\"]},{gender:\"female\",test:[\"на\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ой\",\"-е\"]}]},E={exceptions:[{gender:\"male\",test:[\"лев\"],mods:[\"--ьва\",\"--ьву\",\"--ьва\",\"--ьвом\",\"--ьве\"]},{gender:\"male\",test:[\"пётр\"],mods:[\"---етра\",\"---етру\",\"---етра\",\"---етром\",\"---етре\"]},{gender:\"male\",test:[\"павел\"],mods:[\"--ла\",\"--лу\",\"--ла\",\"--лом\",\"--ле\"]},{gender:\"male\",test:[\"яша\"],mods:[\"-и\",\"-е\",\"-у\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"шота\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"female\",test:[\"агидель\",\"жизель\",\"нинель\",\"рашель\",\"рахиль\"],mods:[\"-и\",\"-и\",\".\",\"ю\",\"-и\"]}],suffixes:[{gender:\"androgynous\",test:[\"лок\"],mods:[\"--ка\",\"--ку\",\".\",\"--кос\",\"--ке\"]},{gender:\"androgynous\",test:[\"ки\"],mods:[\"-ов\",\"-ам\",\".\",\"-ами\",\"-ах\"]},{gender:\"androgynous\",test:[\"щи\"],mods:[\"-ев\",\"-ам\",\".\",\"-ами\",\"-ах\"]},{gender:\"androgynous\",test:[\"е\",\"ё\",\"и\",\"о\",\"у\",\"ы\",\"э\",\"ю\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"male\",test:[\"уа\",\"иа\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"female\",test:[\"б\",\"в\",\"г\",\"д\",\"ж\",\"з\",\"й\",\"к\",\"л\",\"м\",\"н\",\"п\",\"р\",\"с\",\"т\",\"ф\",\"х\",\"ц\",\"ч\",\"ш\",\"щ\",\"ъ\",\"иа\",\"ль\"],mods:[\".\",\".\",\".\",\".\",\".\"]},{gender:\"female\",test:[\"ь\"],mods:[\"-и\",\"-и\",\".\",\"ю\",\"-и\"]},{gender:\"male\",test:[\"ь\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"androgynous\",test:[\"га\",\"ка\",\"ха\",\"ча\",\"ща\",\"жа\"],mods:[\"-и\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"female\",test:[\"ша\"],mods:[\"-и\",\"-е\",\"-у\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"ша\",\"ча\",\"жа\"],mods:[\"-и\",\"-е\",\"-у\",\"-ей\",\"-е\"]},{gender:\"androgynous\",test:[\"а\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"female\",test:[\"ия\"],mods:[\"-и\",\"-и\",\"-ю\",\"-ей\",\"-и\"]},{gender:\"female\",test:[\"ка\",\"га\",\"ха\"],mods:[\"-и\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"female\",test:[\"ца\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ей\",\"-е\"]},{gender:\"female\",test:[\"а\"],mods:[\"-ы\",\"-е\",\"-у\",\"-ой\",\"-е\"]},{gender:\"female\",test:[\"я\"],mods:[\"-и\",\"-е\",\"-ю\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"ия\"],mods:[\"-и\",\"-и\",\"-ю\",\"-ей\",\"-и\"]},{gender:\"male\",test:[\"я\"],mods:[\"-и\",\"-е\",\"-ю\",\"-ей\",\"-е\"]},{gender:\"male\",test:[\"ий\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-и\"]},{gender:\"male\",test:[\"ый\",\"кий\",\"хий\"],mods:[\"--ого\",\"--ому\",\"--ого\",\"-м\",\"--ом\"]},{gender:\"male\",test:[\"ей\",\"й\"],mods:[\"-я\",\"-ю\",\"-я\",\"-ем\",\"-е\"]},{gender:\"male\",test:[\"ш\",\"ж\"],mods:[\"а\",\"у\",\"а\",\"ем\",\"е\"]},{gender:\"male\",test:[\"ёл\"],mods:[\"--ла\",\"--лу\",\"--ла\",\"--лом\",\"--ле\"]},{gender:\"male\",test:[\"б\",\"в\",\"г\",\"д\",\"ж\",\"з\",\"к\",\"л\",\"м\",\"н\",\"п\",\"р\",\"с\",\"т\",\"ф\",\"х\",\"ц\",\"ч\"],mods:[\"а\",\"у\",\"а\",\"ом\",\"е\"]},{gender:\"androgynous\",test:[\"ния\",\"рия\",\"вия\"],mods:[\"-и\",\"-и\",\"-ю\",\"-ем\",\"-ем\"]}]};function G(e){return k(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"accusative\",(2<arguments.length?arguments[2]:void 0)||r(e),E)}function _(e){return k(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"accusative\",(2<arguments.length?arguments[2]:void 0)||d(e),O)}function F(e){return k(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"accusative\",(2<arguments.length?arguments[2]:void 0)||o(e),C)}b(O),b(C),b(E);var M=[\"форт-шевченко\"],I=[\"-\",\" \",\"в\",\"на\",\"баден\",\"бледно\",\"буэнос\",\"вице\",\"гаврилов\",\"йошкар\",\"коста\",\"лос\",\"норд\",\"нью\",\"орехово\",\"принс\",\"сан\",\"санкт\",\"санта\",\"северо\",\"ситтард\",\"темно\",\"улан\",\"усолье\",\"усть\",\"форт\",\"царь\",\"экс\",\"юго\",\"юрьев\"],P=[\"село\",\"поселок\",\"аул\",\"город\",\"деревня\"],T={exceptions:[{gender:\"androgynous\",test:[\"сочи\",\"тбилиси\"],mods:[\"\",\"\",\"\",\"\",\"\"]},{gender:\"androgynous\",test:[\"село\"],mods:[\"-а\",\"-у\",\"\",\"м\",\"-е\"]}],suffixes:[{gender:\"androgynous\",test:[\"чёк\",\"чек\"],mods:[\"--ка\",\"--ку\",\"\",\"--ком\",\"--ке\"]},{gender:\"androgynous\",test:[\"чик\"],mods:[\"а\",\"у\",\"\",\"ом\",\"е\"]},{gender:\"androgynous\",test:[\"жний\",\"хний\",\"шний\",\"щий\"],mods:[\"--его\",\"--ему\",\"\",\"-м\",\"--ем\"]},{gender:\"androgynous\",test:[\"ще\"],mods:[\"-а\",\"-у\",\"\",\"м\",\"\"]},{gender:\"androgynous\",test:[\"чье\"],mods:[\"-я\",\"-ю\",\"\",\"м\",\"\"]},{gender:\"androgynous\",test:[\"чь\"],mods:[\"-и\",\"-и\",\"\",\"ю\",\"-и\"]},{gender:\"androgynous\",test:[\"чи\"],mods:[\"-ей\",\"-ам\",\"\",\"-ами\",\"-ах\"]},{gender:\"androgynous\",test:[\"ые\",\"ие\"],mods:[\"-х\",\"-м\",\"\",\"-ми\",\"-х\"]},{gender:\"androgynous\",test:[\"ый\",\"ий\",\"ое\"],mods:[\"--ого\",\"--ому\",\"\",\"-м\",\"--ом\"]},{gender:\"androgynous\",test:[\"ая\"],mods:[\"--ой\",\"--ой\",\"--ую\",\"--ой\",\"--ой\"]},{gender:\"androgynous\",test:[\"иев\"],mods:[\"а\",\"у\",\"\",\"ым\",\"ом\"]},{gender:\"androgynous\",test:[\"ны\"],mods:[\"-ов\",\"-ам\",\"\",\"-ами\",\"-ах\"]},{gender:\"androgynous\",test:[\"ша\"],mods:[\"-и\",\"-е\",\"-у\",\"-ей\",\"-е\"]}]};function q(e,n){for(var t=e.toLowerCase(),s=0;s<n.length;s++)if(n[s]===t)return!0;return!1}function z(e,n,t){if(1<t.length){if(q(e,I))return!0;for(var s=0;s<n;s++)if(q(t[s],P))return!0}return!1}b(T),e.incline=function(e,n){var t={};return t.gender||(t.gender=u(e)),e.first&&(t.first=G(e.first.trim(),n,t.gender)),e.last&&(t.last=_(e.last.trim(),n,t.gender)),e.middle&&(t.last=F(e.middle.trim(),n,t.gender)),t},e.inclineFirstname=G,e.inclineLastname=_,e.inclineMiddlename=F,e.getGender=u,e.getFirstnameGender=function(e){return l(r(e))},e.getLastnameGender=function(e){return l(d(e))},e.getMiddlenameGender=function(e){return l(o(e))},e.cityIn=function(e,r){return q(e,M)?e:e.split(/(\\s|-)/g).map(function(e,n,t){if(z(e,n,t))return e;var s=w(e,a,T);return s?W(s,e,p):G(e,p,r)||e}).join(\"\")},e.cityFrom=function(e,r){return q(e,M)?e:e.split(/(\\s|-)/g).map(function(e,n,t){if(z(e,n,t))return e;var s=w(e,a,T);return s?W(s,e,y):G(e,y,r)||e}).join(\"\")},e.cityTo=function(e){if(!e)return e;var n=e.toLowerCase();return n.endsWith(\"а\")?L(e,\"-у\"):n.endsWith(\"ая\")?L(e,\"--ую\"):e},Object.defineProperty(e,\"__esModule\",{value:!0})});\n\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\nangular.module('app').component('nordwindEs', {\n    templateUrl: 'components/nordwind-es/nordwind-es.html',\n    bindings: {\n        orderInfo: '=',\n        loading: '='\n    },\n    controllerAs: 'vm',\n    controller: 'nordwindEsController'\n});\n\nangular.module('app').controller('nordwindEsController',\n    ['$scope', 'backend', 'utils', '$routeParams', '$window', 'redirect', nordwindEsController]);\n\n\nfunction nordwindEsController($scope, backend, utils, $routeParams, $window, redirect) {\n    var vm = this;\n\n    vm.loading = true;\n    vm.searchOrderLoading = true;\n    vm.orderServicesLoading = true;\n    vm.extraServicesList = [];\n    vm.selected = null;\n\n    vm.openOrder = openOrder;\n    vm.submitPayment = submitPayment;\n    vm.paymentFormChangeHandler = paymentFormChangeHandler;\n    vm.reloadPage = reloadPage;\n    vm.clearSession = clearSession;\n    vm.handleEsSelect = handleEsSelect;\n    vm.closePopup = closePopup;\n\n    $scope.$on('plasticCardForPaymentChangeEvent', function (event, data) {\n        vm.card = data;\n    });\n\n\n    backend.ready.then(function () {\n        angular.element('title').text(backend.getAliasWithPrefix('web.pageTitle.', 'addServices'));\n\n        backend.addOrderInfoListener(function (orderInfo) {\n            vm.orderInfo = orderInfo;\n            console.log(orderInfo);\n        }, false, true);\n\n        vm.pnrOrTicketNumber = $routeParams.pnrOrTicketNumber;\n        vm.lastName = $routeParams.lastName;\n\n        vm.loading = false;\n\n        backend.clearOrderInfoListeners();\n        backend.clearUpdateOrderServicesListeners();\n\n        vm.orderInfo = backend.getOrderInfo();\n\n        if (vm.orderInfo) {\n            orderReadyHandler();\n        } else {\n            backend.searchOrder(vm.pnrOrTicketNumber, vm.lastName, true).then(orderReadyHandler, function (resp) {\n                vm.searchOrderLoading = false;\n                vm.orderServicesLoading = false;\n                vm.errorMessage = resp.error;\n            });\n        }\n\n    });\n\n    function orderReadyHandler() {\n        backend.addOrderInfoListener(function (orderInfo) {\n            vm.orderInfo = orderInfo;\n        });\n\n        backend.addUpdateOrderServicesListener(function (resp) {\n            vm.orderInfo = resp[1];\n            vm.priceVariant = resp[2];\n            vm.isFreePricevariant = utils.isFreePricevariant(resp[2]);\n\n            if (vm.isFreePricevariant) {\n                vm.showNeedSelectPaymentFormMesage = false;\n            }\n\n            vm.es = utils.reformatAvailableExtraServices(resp[0], vm.orderInfo, vm.es);\n            vm.esList = utils.getAvailableExtraServicesList(resp[0], vm.es);\n\n\n            _.forEach(vm.es, function (esItem) {\n                esItem.active = true;\n            });\n\n            _.forEach(vm.esList, function (esItem) {\n                vm.extraServicesList.push(esItem);\n            });\n\n            vm.searchOrderLoading = false;\n            vm.orderServicesLoading = false;\n\n            if (backend.getParam('ffp.enable') && (vm.orderInfo.hasBonusCard || vm.orderInfo.ffpSumm)) {\n                backend.ffpBonus().then(function (resp) {\n                    vm.ffpBonus = resp.total || 0;\n                });\n            }\n        }, function (resp) {\n            vm.searchOrderLoading = false;\n            vm.orderServicesLoading = false;\n            vm.errorMessage = resp.error;\n\n            if (vm.errorMessage === 'web.extraServices.submitError') {\n                vm.showBackButton = true;\n            }\n        });\n\n\n        backend.updateOrderServices(true).then(function () {\n            vm.loading = true;\n\n            backend.switchDefaultSelectedServices(vm.esList, vm.es, vm.orderInfo).then(function () {\n                vm.loading = false;\n            });\n        });\n\n        backend.addExtraServiceListener(function (state) {\n            vm.modifyServicesLoading = !state;\n            vm.orderServicesLoading = true;\n        });\n\n        backend.addExtraServiceErrorListener(function (resp, req) {\n            if (!req || req.code !== 'seat') {\n                vm.modifyServicesError = resp.error;\n            }\n\n            vm.modifyServicesLoading = false;\n            vm.orderServicesLoading = true;\n        });\n    }\n\n    function submitPayment(removeInsuranceAeroexpress) {\n        if (vm.agree && !vm.modifyServicesLoading && !vm.orderServicesLoading) {\n            if (vm.selectedPaymentForm && vm.selectedPaymentType) {\n                if (backend.getParam('site.rossiyaAirlineMode')) {\n                    fancyboxTools.openHandler('popupOrderEmailRequired', false, {\n                        phoneRequiredToo: true,\n                        submitCallback: function submitCallback(email, phone) {\n                            submitPaymentConfirm(removeInsuranceAeroexpress, email, phone);\n                        }\n                    });\n                } else {\n                    submitPaymentConfirm(removeInsuranceAeroexpress);\n                }\n            } else {\n                vm.showNeedSelectPaymentFormMesage = true;\n            }\n        }\n    }\n\n    function submitPaymentConfirm(removeInsuranceAeroexpress, email, phone) {\n        vm.confirmLoading = true;\n\n        if (vm.confirmError) {\n            delete vm.confirmError;\n        }\n\n        backend.startPaymentForExtraServices(vm.selectedPaymentForm, vm.selectedPaymentType, removeInsuranceAeroexpress, email, phone, vm.card).then(function (resp) {\n            if (resp.pnr && resp.lastName) {\n                redirect.goToConfirmOrder(resp.pnr, resp.lastName);\n            } else if (resp.eraseAeroexpressBecauseOfCurrency || resp.eraseInsuranceBecauseOfCurrency) {\n                fancyboxTools.openHandler('popupChangeCurrencyError', false, {\n                    eraseAeroexpressBecauseOfCurrency: resp.eraseAeroexpressBecauseOfCurrency,\n                    eraseInsuranceBecauseOfCurrency: resp.eraseInsuranceBecauseOfCurrency,\n                    mode: 'addServices',\n                    submitCallback: submitPayment\n                });\n            } else if (resp.removedSvcs && resp.removedSvcs.length) {\n                fancyboxTools.openHandler('popupRemovedServicesWarning', false, {\n                    submitCallback: function submitCallback() {\n                        submitPaymentConfirm(removeInsuranceAeroexpress, email, phone);\n                    },\n                    closeCallback: function closeCallback() {\n                        backend.updateOrderServices(true);\n                    },\n\n                    removedSvcs: resp.removedSvcs,\n                    svcsToIssue: resp.svcsToIssue,\n                    noExtraServicesLeft: resp.noExtraServicesLeft,\n                    disableOutsideCloseClick: true\n                });\n            }\n\n            vm.confirmLoading = false;\n        }, function (resp) {\n            if (resp.error === 'web.noBookedConfirmedExtraServices') {\n                vm.fatalError = resp.error;\n            } else {\n                vm.confirmError = resp.error;\n            }\n\n            vm.confirmLoading = false;\n        });\n    }\n\n    function paymentFormChangeHandler() {\n        vm.showNeedSelectPaymentFormMesage = false;\n    }\n\n    function reloadPage() {\n        $window.location.reload();\n        return false;\n    }\n\n    function openOrder(pnrOrTicketNumber, lastName) {\n        if (backend.getParam('site.separatePassengersSearchOrder')) {\n            redirect.goToViewSeparateOrder(pnrOrTicketNumber, lastName);\n        } else {\n            redirect.goToSearchOrder(pnrOrTicketNumber, lastName);\n        }\n    }\n\n    function clearSession() {\n        backend.clearSession().then(function () {\n            redirect.goToSearchOrder();\n        });\n    }\n\n    function handleEsSelect(esCode, service) {\n        vm.selected = esCode;\n    }\n\n    function closePopup() {\n        vm.selected = null;\n    }\n\n\n}\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nangular.module('app').component('nordwindMeal', {\n    templateUrl: 'components/nordwind-meal/nordwind-meal.html',\n    bindings: {\n        service: '='\n    },\n    controller: ['backend', nordwindMealController],\n    controllerAs: 'vm'\n});\n\n\nfunction nordwindMealController(backend) {\n    var vm = this;\n\n\n    backend.ready.then(function () {\n\n        backend.getExtraServices().then(function (extraServices) {\n            vm.extraServicesList = extraServices.slice();\n        });\n\n    });\n\n\n}\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\nangular.module('app').component('nwMeal', {\n    templateUrl: 'components/nw-meal/nw-meal.html',\n    controller: ['$scope', '$element', 'backend', 'utils', MealController],\n    controllerAs: 'vm',\n    bindings: {\n        service: '=service',\n        locked: '=locked'\n    }\n});\n\nfunction MealController($scope, $element, backend, utils) {\n\n    var vm = this,\n        passengersTableContainer = $element.find('div.passengersTableContainer');\n\n    vm.switchService = switchService;\n    vm.selectFlightPassenger = selectFlightPassenger;\n    vm.selectFirstAvailablePassengerFlight = selectFirstAvailablePassengerFlight;\n    vm.mealCountChangeHandler = mealCountChangeHandler;\n    vm.removePassengerFlightMeal = removePassengerFlightMeal;\n    vm.getSelectedPassengerFlightMeal = getSelectedPassengerFlightMeal;\n    vm.scrollToStart = scrollToStart;\n    vm.scrollToEnd = scrollToEnd;\n    vm.hasAlias = backend.hasAlias;\n    vm.getAvailablePassengersCount = utils.getAvailablePassengersCount;\n    vm.checkServiceRemovalProhibited = backend.checkServiceRemovalProhibited;\n\n    vm.canScrollRight = true;\n    vm.canScrollLeft = false;\n\n    vm.selectedFlight = 0;\n    vm.selectedPassenger = 0;\n\n    if (backend.getParam('site.externalStorageBaseUrl')) {\n        vm.mealImagesPath = backend.getParam('site.externalStorageBaseUrl') + '/img/content/meal';\n    } else {\n        vm.mealImagesPath = './themes/websky/assets/static/img/content/meal';\n    }\n\n    backend.addOrderInfoListener(function (orderInfo) {\n        console.log(orderInfo);\n        vm.orderInfo = orderInfo;\n    }, false, true);\n\n    $scope.$watch('vm.service', function () {\n        updateMealMenu();\n    });\n\n    passengersTableContainer.on('scroll', mobileTableScrollHandler);\n\n    if (vm.service.active) {\n        updateMealMenu();\n    }\n\n    function switchService() {\n        if (!vm.locked && !backend.checkServiceRemovalProhibited('meal')) {\n            vm.service.active = !vm.service.active;\n            if (vm.service.active) {\n                selectFirstAvailablePassengerFlight();\n            } else {\n                backend.removeExtraService({\n                    code: 'meal'\n                });\n            }\n        }\n    }\n\n    function selectFlightPassenger(flightNum, passengerNum) {\n        vm.selectedFlight = flightNum;\n        vm.selectedPassenger = passengerNum;\n        updateMealMenu();\n    }\n\n    function selectFirstAvailablePassengerFlight() {\n        vm.selectedFlight = getFirstAvailableFlightNum();\n        vm.selectedPassenger = getFirstAvailablePassengerNum(vm.selectedFlight);\n        updateMealMenu();\n    }\n\n    function updateMealMenu() {\n        vm.mealMenu = vm.service.itemsByPassengerSegments[vm.selectedPassenger][vm.selectedFlight];\n        vm.mealMenuSubgroup = false;\n    }\n\n    function mealCountChangeHandler(subgroupNum, mealItem, delta) {\n        if (!vm.locked) {\n            backend.modifyExtraService({\n                code: 'meal',\n                passenger_id: vm.orderInfo.passengers[vm.selectedPassenger].id,\n                segment_id: vm.orderInfo.plainFlights[vm.selectedFlight].id,\n                subgroup: vm.service.subgroups[subgroupNum],\n                amount: (mealItem.alreadySelectedCount || 0) + delta,\n                rfisc: mealItem.rfisc\n            });\n        }\n    }\n\n    function removePassengerFlightMeal(passengerNum, flightNum) {\n        if (!vm.locked && !backend.checkServiceRemovalProhibited('meal', passengerNum, flightNum)) {\n            backend.removeExtraService({\n                code: 'meal',\n                passenger_id: vm.orderInfo.passengers[passengerNum].id,\n                segment_id: vm.orderInfo.plainFlights[flightNum].id\n            });\n        }\n    }\n\n    function getSelectedPassengerFlightMeal(passengerNum, flightNum) {\n\n        var count = 0,\n            cost = 0,\n            currency;\n\n        if (\n            vm.orderInfo.groupedEditableExtraServices &&\n            vm.orderInfo.groupedEditableExtraServices.meal &&\n            vm.orderInfo.groupedEditableExtraServices.meal[passengerNum] &&\n            vm.orderInfo.groupedEditableExtraServices.meal[passengerNum][flightNum] &&\n            vm.orderInfo.groupedEditableExtraServices.meal[passengerNum][flightNum].length\n        ) {\n            vm.orderInfo.groupedEditableExtraServices.meal[passengerNum][flightNum].forEach(function (item) {\n                if (item.amount) {\n                    count += item.amount;\n                }\n                if (item.totalPrice) {\n                    cost = Big(cost).plus(item.totalPrice).toFixed(2);\n                    currency = item.currency;\n                }\n            });\n        }\n\n        if (count) {\n            return {\n                count: count,\n                cost: cost,\n                currency: currency\n            };\n        } else {\n            return false;\n        }\n\n    }\n\n    function scrollToStart() {\n        passengersTableContainer.scrollTo(0);\n    }\n\n    function scrollToEnd() {\n        passengersTableContainer.scrollTo(passengersTableContainer[0].scrollWidth);\n    }\n\n    function mobileTableScrollHandler() {\n        var scrollLeft = passengersTableContainer[0].scrollLeft,\n            scrollWidth = passengersTableContainer[0].scrollWidth,\n            clientWidth = passengersTableContainer[0].clientWidth,\n            scrollRight = scrollWidth - clientWidth - scrollLeft;\n        vm.canScrollRight = (scrollRight !== 0);\n        vm.canScrollLeft = (scrollLeft !== 0);\n        $scope.$apply();\n    }\n\n    function getFirstAvailableFlightNum() {\n        var i;\n        for (i = 0; i < vm.orderInfo.plainFlights.length; i++) {\n            if (vm.service.availableBySegments[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    function getFirstAvailablePassengerNum(flightNum) {\n        var i;\n        if (vm.service.availableByPassengerSegments) {\n            for (i = 0; i < vm.orderInfo.passengers.length; i++) {\n                if (vm.service.availableByPassengerSegments[i][flightNum]) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    }\n\n}\n\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\nvar app = angular.module('app');\n\n\napp.directive('switchInsurance', function () {\n    return {\n        controller: 'switchInsuranceCtrl',\n        scope: {\n            service: '='\n        },\n        bindToController: true,\n        controllerAs: 'vm',\n    }\n});\n\napp.controller('switchInsuranceCtrl', ['$scope', switchInsuranceCtrl]);\n\nfunction switchInsuranceCtrl($scope) {\n    var vm = this;\n}\n\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\nvar lvovich = require('lvovich/dist/lvovich.min');\n\nangular.module('app').filter('toCity', function () {\n    return function (city) {\n        return 'в ' + lvovich.cityTo(city)\n    };\n});\n},{\"lvovich/dist/lvovich.min\":1}],7:[function(require,module,exports){\n\"use strict\";\n// https://github.com/nodkz/lvovich\nrequire('lvovich/dist/lvovich.min');\n\nrequire('./screens/add-services/AddServicesScreenController');\nrequire('./screens/search-order/search-order');\nrequire('./components/nordwind-es/nordwind-es');\nrequire('./components/nordwind-meal/nordwind-meal');\nrequire('./directives/switchInsurance');\nrequire('./components/nw-meal/nw-meal');\nrequire('./filters/toCity');\n\n\n\n\n\n\n},{\"./components/nordwind-es/nordwind-es\":2,\"./components/nordwind-meal/nordwind-meal\":3,\"./components/nw-meal/nw-meal\":4,\"./directives/switchInsurance\":5,\"./filters/toCity\":6,\"./screens/add-services/AddServicesScreenController\":8,\"./screens/search-order/search-order\":9,\"lvovich/dist/lvovich.min\":1}],8:[function(require,module,exports){\n\"use strict\";\n'use strict';\n\nangular.module('app').controller('AddServicesScreenController', ['$scope', '$routeParams', '$window', 'redirect', 'backend', 'utils', 'fancyboxTools', function ($scope, $routeParams, $window, redirect, backend, utils, fancyboxTools) {\n    var vm = this;\n\n    vm.loading = true;\n    vm.searchOrderLoading = true;\n    vm.orderServicesLoading = true;\n\n    vm.openOrder = openOrder;\n    vm.submitPayment = submitPayment;\n    vm.paymentFormChangeHandler = paymentFormChangeHandler;\n    vm.reloadPage = reloadPage;\n    vm.clearSession = clearSession;\n\n    $scope.$on('plasticCardForPaymentChangeEvent', function (event, data) {\n        vm.card = data;\n    });\n\n    backend.ready.then(function () {\n        angular.element('title').text(backend.getAliasWithPrefix('web.pageTitle.', 'addServices'));\n\n        vm.pnrOrTicketNumber = $routeParams.pnrOrTicketNumber;\n        vm.lastName = $routeParams.lastName;\n\n        vm.loading = false;\n\n        backend.clearOrderInfoListeners();\n        backend.clearUpdateOrderServicesListeners();\n\n        vm.orderInfo = backend.getOrderInfo();\n\n        if (vm.orderInfo) {\n            orderReadyHandler();\n        } else {\n            backend.searchOrder(vm.pnrOrTicketNumber, vm.lastName, true).then(orderReadyHandler, function (resp) {\n                vm.searchOrderLoading = false;\n                vm.orderServicesLoading = false;\n                vm.errorMessage = resp.error;\n            });\n        }\n\n    });\n\n    function orderReadyHandler() {\n        backend.addOrderInfoListener(function (orderInfo) {\n            vm.orderInfo = orderInfo;\n        });\n\n        backend.addUpdateOrderServicesListener(function (resp) {\n            vm.orderInfo = resp[1];\n            vm.priceVariant = resp[2];\n            vm.isFreePricevariant = utils.isFreePricevariant(resp[2]);\n\n            if (vm.isFreePricevariant) {\n                vm.showNeedSelectPaymentFormMesage = false;\n            }\n\n            vm.es = utils.reformatAvailableExtraServices(resp[0], vm.orderInfo, vm.es);\n            vm.esList = utils.getAvailableExtraServicesList(resp[0], vm.es);\n\n            vm.searchOrderLoading = false;\n            vm.orderServicesLoading = false;\n\n            if (backend.getParam('ffp.enable') && (vm.orderInfo.hasBonusCard || vm.orderInfo.ffpSumm)) {\n                backend.ffpBonus().then(function (resp) {\n                    vm.ffpBonus = resp.total || 0;\n                });\n            }\n        }, function (resp) {\n            vm.searchOrderLoading = false;\n            vm.orderServicesLoading = false;\n            vm.errorMessage = resp.error;\n\n            if (vm.errorMessage === 'web.extraServices.submitError') {\n                vm.showBackButton = true;\n            }\n        });\n\n\n        backend.updateOrderServices(true).then(function () {\n            vm.loading = true;\n\n            backend.switchDefaultSelectedServices(vm.esList, vm.es, vm.orderInfo).then(function () {\n                vm.loading = false;\n            });\n        });\n\n        backend.addExtraServiceListener(function (state) {\n            vm.modifyServicesLoading = !state;\n            vm.orderServicesLoading = true;\n        });\n\n        backend.addExtraServiceErrorListener(function (resp, req) {\n            if (!req || req.code !== 'seat') {\n                vm.modifyServicesError = resp.error;\n            }\n\n            vm.modifyServicesLoading = false;\n            vm.orderServicesLoading = true;\n        });\n    }\n\n    function submitPayment(removeInsuranceAeroexpress) {\n        if (vm.agree && !vm.modifyServicesLoading && !vm.orderServicesLoading) {\n            if (vm.selectedPaymentForm && vm.selectedPaymentType) {\n                if (backend.getParam('site.rossiyaAirlineMode')) {\n                    fancyboxTools.openHandler('popupOrderEmailRequired', false, {\n                        phoneRequiredToo: true,\n                        submitCallback: function submitCallback(email, phone) {\n                            submitPaymentConfirm(removeInsuranceAeroexpress, email, phone);\n                        }\n                    });\n                } else {\n                    submitPaymentConfirm(removeInsuranceAeroexpress);\n                }\n            } else {\n                vm.showNeedSelectPaymentFormMesage = true;\n            }\n        }\n    }\n\n    function submitPaymentConfirm(removeInsuranceAeroexpress, email, phone) {\n        vm.confirmLoading = true;\n\n        if (vm.confirmError) {\n            delete vm.confirmError;\n        }\n\n        backend.startPaymentForExtraServices(vm.selectedPaymentForm, vm.selectedPaymentType, removeInsuranceAeroexpress, email, phone, vm.card).then(function (resp) {\n            if (resp.pnr && resp.lastName) {\n                redirect.goToConfirmOrder(resp.pnr, resp.lastName);\n            } else if (resp.eraseAeroexpressBecauseOfCurrency || resp.eraseInsuranceBecauseOfCurrency) {\n                fancyboxTools.openHandler('popupChangeCurrencyError', false, {\n                    eraseAeroexpressBecauseOfCurrency: resp.eraseAeroexpressBecauseOfCurrency,\n                    eraseInsuranceBecauseOfCurrency: resp.eraseInsuranceBecauseOfCurrency,\n                    mode: 'addServices',\n                    submitCallback: submitPayment\n                });\n            } else if (resp.removedSvcs && resp.removedSvcs.length) {\n                fancyboxTools.openHandler('popupRemovedServicesWarning', false, {\n                    submitCallback: function submitCallback() {\n                        submitPaymentConfirm(removeInsuranceAeroexpress, email, phone);\n                    },\n                    closeCallback: function closeCallback() {\n                        backend.updateOrderServices(true);\n                    },\n\n                    removedSvcs: resp.removedSvcs,\n                    svcsToIssue: resp.svcsToIssue,\n                    noExtraServicesLeft: resp.noExtraServicesLeft,\n                    disableOutsideCloseClick: true\n                });\n            }\n\n            vm.confirmLoading = false;\n        }, function (resp) {\n            if (resp.error === 'web.noBookedConfirmedExtraServices') {\n                vm.fatalError = resp.error;\n            } else {\n                vm.confirmError = resp.error;\n            }\n\n            vm.confirmLoading = false;\n        });\n    }\n\n    function paymentFormChangeHandler() {\n        vm.showNeedSelectPaymentFormMesage = false;\n    }\n\n    function reloadPage() {\n        $window.location.reload();\n        return false;\n    }\n\n    function openOrder(pnrOrTicketNumber, lastName) {\n        if (backend.getParam('site.separatePassengersSearchOrder')) {\n            redirect.goToViewSeparateOrder(pnrOrTicketNumber, lastName);\n        } else {\n            redirect.goToSearchOrder(pnrOrTicketNumber, lastName);\n        }\n    }\n\n    function clearSession() {\n        backend.clearSession().then(function () {\n            redirect.goToSearchOrder();\n        });\n    }\n}]);\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\"use strict\";\n\nangular.module('app').controller(\n    'SearchOrderScreenController',\n    ['$routeParams', 'backend', '$timeout', SearchOrderScreenController]\n);\n\nfunction SearchOrderScreenController($routeParams, backend, $timeout) {\n\n    var vm = this;\n    vm.loading = true;\n    vm.showSearchForm = true;\n    vm.searchParams = {};\n    vm.partiallyAddedPassengers = [];\n    vm.submitSearch = submitSearch;\n    vm.confirmHandler = confirmHandler;\n    vm.clear = clear;\n    vm.addPassenger = addPassenger;\n\n    backend.ready.then(function () {\n\n        angular.element('title').text(backend.getAliasWithPrefix('web.pageTitle.', 'searchOrder'));\n\n        vm.passengerLastNameRegexp = backend.applicationConstants.passengerLastNameRegexp;\n        vm.pnrOrTicketRegexp = backend.applicationConstants.pnrOrTicketRegexp;\n        vm.ticketRegexp = backend.applicationConstants.ticketRegexp;\n\n        if ($routeParams.pnrOrTicketNumber && $routeParams.lastName && backend.getParam('site.searchOrdersBy') === 'LAST_NAME_PNR_TICKET') {\n            vm.searchParams.pnrOrTicketNumber = $routeParams.pnrOrTicketNumber;\n            vm.searchParams.lastName = $routeParams.lastName;\n            vm.loading = false;\n            $timeout(submitSearch);\n        } else {\n            updateOrderInfoHandler();\n        }\n    });\n\n    function clear() {\n        backend.clearSession();\n        backend.clearOrderInfo();\n        vm.orderInfo = false;\n        vm.showSearchForm = true;\n        vm.partiallyAddedPassengers = [];\n    }\n\n    function submitSearch() {\n        vm.submitTouched = true;\n        if ((!backend.getParam('site.useSearchOrderAgreeCheckbox') || vm.searchOrderAgree) && vm.searchOrderForm.$valid) {\n            vm.searchLoading = true;\n            vm.errorMessage = false;\n            backend.searchOrderByParams(vm.searchParams, !!vm.partiallyAddedPassengers.length).then(function (resp) {\n                if (vm.searchParams.flight && vm.searchParams.date) {\n                    vm.searchParams = {\n                        flight: vm.searchParams.flight,\n                        date: vm.searchParams.date\n                    };\n                } else if (!resp.needToSpecifyDocument) {\n                    vm.searchParams = {};\n                }\n                vm.needToSpecifyDocument = resp.needToSpecifyDocument;\n                vm.showSearchForm = false;\n                vm.submitTouched = false;\n                if (resp.orderCompletelyInitialized) {\n                    vm.partiallyAddedPassengers = [];\n                    updateOrderInfoHandler();\n                } else {\n                    if (resp.partiallyAddedPassengers) {\n                        vm.partiallyAddedPassengers = resp.partiallyAddedPassengers;\n                    }\n                    if (vm.needToSpecifyDocument) {\n                        vm.showSearchForm = true;\n                    }\n                }\n                vm.searchLoading = false;\n            }, errorHandler);\n        }\n    }\n\n    function updateOrderInfoHandler() {\n        backend.updateOrderInfo().then(function (orderInfo) {\n            if (orderInfo.passengers) {\n                vm.orderInfo = orderInfo;\n                vm.showSearchForm = false;\n            }\n            vm.loading = false;\n        }, errorHandler);\n    }\n\n    function errorHandler(resp) {\n        vm.loading = false;\n        vm.searchLoading = false;\n        if (resp.error !== 'web.messages.emptyOrder') {\n            vm.errorMessage = resp.error;\n        }\n    }\n\n    function confirmHandler() {\n        backend.finishSeparatePassengersSearch().then(updateOrderInfoHandler, errorHandler);\n    }\n\n    function addPassenger() {\n        vm.showSearchForm = true;\n    }\n}\n\n},{}]},{},[7]);\n"]}